(this["webpackJsonptri-tap"]=this["webpackJsonptri-tap"]||[]).push([[0],{27:function(e,t){},465:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(56),i=a.n(r),o=(a(65),a(20)),l=a(4),u=a(15),s=a(6),m=a(57),f=a.n(m),d=(a(66),a(59)),v=a(472);var p=a(16),h=a.n(p);h.a.config.region="us-east-2",h.a.config.credentials=new h.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var E=new h.a.DynamoDB.DocumentClient;var b="Press";function w(e){for(var t,a=e.clicks,n=e.reset,r=[{item:"Date",value:new Date(a[0].timeStamp).toLocaleDateString()},{item:"Time",value:new Date(a[0].timeStamp).toLocaleTimeString()}],i=[],o=0;o<5;o+=1){var l=2*o,u=(t=a[l].timeStamp,a[l+1].timeStamp-t),s=Math.round(1e3*a[l+1].pressure)/10;r.push({item:"Delay ".concat(o+1),value:"".concat(u,"ms [").concat(s,"%]")}),i.push(u)}return r.push({item:"Average",value:"".concat(Math.round(i.reduce((function(e,t){return e+t}),0)/i.length),"ms")}),c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"modal"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Event"),c.a.createElement("th",null,"Result"))),c.a.createElement("tbody",null,r.map((function(e){return c.a.createElement("tr",{key:e.item},c.a.createElement("td",null,e.item),c.a.createElement("td",null,e.value))})))),c.a.createElement("div",{className:"reset",onClick:n},"Restart")))}var j=function(){var e=Object(n.useState)(b),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],m=o[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),j=h[0],O=h[1],g=Object(n.useState)(!1),S=Object(s.a)(g,2),y=S[0],D=S[1],T=Object(n.useState)(!1),k=Object(s.a)(T,2),N=k[0],I=k[1],P=Object(n.useState)(!1),L=Object(s.a)(P,2),R=L[0],C=L[1],M=Object(n.useRef)(null),A=Object(n.useRef)(0);Object(n.useEffect)((function(){f.a.set("#circle",{start:function(){A.current=0},change:function(e){A.current=e>A.current?e:A.current},unsupported:function(){A.current=-1}},{only:"touch",polyfill:!1})}),[]);var U=function(){for(var e=[],t=Date.now(),a=function(a){e.push(new Promise((function(e,n){var c,r,i=function(e){var t=e.id,a=void 0===t?Object(v.a)():t,n=e.timestamp,c=void 0===n?Date.now():n,r=e.user,i=void 0===r?window.sessionStorage.getItem("user")||"unspecified":r,o=e.winNavUa,l=void 0===o?window.navigator.userAgent:o;return Object(d.a)({id:a,timestamp:c,user:i,winNavUa:l},e)}({timeStamp:t,trigger:l[a].timeStamp,lift:l[a+1].timeStamp,pressure:l[a+1].pressure});(c=i,r="lift",new Promise((function(e,t){E.put({Item:c,TableName:r},(function(a,n){a?t("Error: data was not saved to ".concat(r)):e()}))}))).then(e).catch(n)})))},n=0;n<l.length;n+=2)a(n);return Promise.all(e)};return Object(n.useEffect)((function(){var e=1500+Math.round(250*Math.random());N&&(M.current=setTimeout((function(){C(!0),m((function(e){return[].concat(Object(u.a)(e),[{timeStamp:Date.now()}])}))}),e))}),[N]),Object(n.useEffect)((function(){10===l.length&&D(!0)}),[l]),c.a.createElement("div",{className:"Lift"},c.a.createElement("div",{className:"header"},"Press with your thumb. When the screen turns red, lift your thumb. Repeat five times."),c.a.createElement("div",{className:"tap ".concat(N&&"pressed"," ").concat(R&&"triggered")},c.a.createElement("div",{id:"circle",className:"circle",onPointerDown:function(e){a===b&&(O(!0),I(!0))},onPointerUp:function(e){I(!1),j&&a===b&&(R?(r("Good"),m([].concat(Object(u.a)(l),[{timeStamp:Date.now(),pressure:A.current}]))):(r("!"),clearTimeout(M.current)),O(!1),C(!1),setTimeout((function(){return r(b)}),1500))}},a)),y&&c.a.createElement(w,{clicks:l,reset:function(){U().finally((function(){D(!1),m([]),function(e,t){r(e),O(t)}(b,!1)}))}}))};a(465);function O(e){var t=e.clicks,a=e.reset,n=[{item:"Date",value:new Date(t[0]).toLocaleDateString()},{item:"Time",value:new Date(t[0]).toLocaleTimeString()}],r=[];return["2-Tap Int 1","3-Tap Int 1","3-Tap Int 2","4-Tap Int 1","4-Tap Int 2","4-Tap Int 3"].forEach((function(e,a){var c,i=0===a?[1,2]:a<3?[a+2,a+3]:[a+3,a+4],o=(c=t[i[0]],t[i[1]]-c);n.push({item:e,value:"".concat(o,"ms")}),r.push(o)})),n.push({item:"Average",value:"".concat(Math.round(r.reduce((function(e,t){return e+t}),0)/r.length),"ms")}),c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"modal"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Event"),c.a.createElement("th",null,"Result"))),c.a.createElement("tbody",null,n.map((function(e){return c.a.createElement("tr",{key:e.item},c.a.createElement("td",null,e.item),c.a.createElement("td",null,e.value))})))),c.a.createElement("div",{className:"reset",onClick:a},"Restart")))}var g=function(){var e=Object(n.useState)("Start"),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],m=o[1],f=Object(n.useState)(!1),d=Object(s.a)(f,2),v=d[0],p=d[1],h=Object(n.useState)(!1),E=Object(s.a)(h,2),b=E[0],w=E[1],j=function(e,t){r(e),p(t)};return Object(n.useEffect)((function(){switch(l.length){case 1:setTimeout((function(){j("2",!0)}),500);break;case 3:j("Good",!1),setTimeout((function(){j("3",!0)}),1500);break;case 6:j("Good",!1),setTimeout((function(){j("4",!0)}),1500);break;case 10:j("Done",!1),setTimeout((function(){w(!0)}),1500)}}),[l]),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},"Tap Start.  When a number appears, tap the circle that many times as quickly as you can.  Use only your thumb."),c.a.createElement("div",{className:"tap"},c.a.createElement("div",{className:"circle ".concat(v&&"active"),onClick:function(e){if(0===l.length)r("");else if(!v)return;m([].concat(Object(u.a)(l),[Date.now()]))}},a)),b&&c.a.createElement(O,{clicks:l,reset:function(){m([]),j("Start",!1),w(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.addEventListener("contextmenu",(function(e){e.preventDefault()})),i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement("div",{className:"links"},c.a.createElement(o.b,{to:"tap"},"Tap"),c.a.createElement(o.b,{to:"lift"},"Lift")),c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/lift",component:j}),c.a.createElement(l.a,{component:g})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports=a(470)},65:function(e,t,a){},66:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.f5c5ff52.chunk.js.map