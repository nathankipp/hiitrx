(this["webpackJsonptri-tap"]=this["webpackJsonptri-tap"]||[]).push([[0],{180:function(e,t,a){e.exports=a(684)},185:function(e,t,a){},586:function(e,t){},588:function(e,t){},598:function(e,t){},600:function(e,t){},625:function(e,t){},626:function(e,t){},631:function(e,t){},633:function(e,t){},640:function(e,t){},659:function(e,t){},684:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(58),s=a.n(r),l=(a(185),a(15)),i=a(46),o=a(175),u=a(16),m=a(6),d=a(49),f=a.n(d);f.a.config.region="us-east-2",f.a.config.credentials=new f.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var b=new f.a.DynamoDB.DocumentClient;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hiitrx";return new Promise((function(a,n){b.put({Item:e,TableName:t},(function(e,c){e?n("Error: data was not saved to ".concat(t)):a()}))}))}var h=function(){return{type:"RESET"}},p=function(e){return function(t){return function(e,t,a){var n={TableName:e,Key:t};return a&&(n.AttributesToGet=a),new Promise((function(e,t){b.get(n,(function(a,n){a?t("item cannot be retrieved"):e(n.Item)}))}))}("hiitrx",{hash:e}).then((function(e){return e?(window.sessionStorage.setItem("hash",e.hash),t({type:"LOAD",payload:e}),Promise.resolve(e.hash)):(window.sessionStorage.removeItem("hash"),t({type:"RESET"}),Promise.reject())}))}},E=function(){return function(e,t){return v(t())}};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getFullYear()],a=e.getMonth()+1;t.push(a<10?"0".concat(a):a);var n=e.getDate();return t.push(e<10?"0".concat(n):n),t.join("-")}var j="LOAD",O="RESET",N="SET_SCHEDULE",y="SET_TODAY",w="SET_LIFTS",S={date:null,hash:null,email:null,name:null,age:null,schedule:{}},x=Object(i.c)((function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0,c=n.type,r=n.payload,s=g();switch(c){case j:return Object(m.a)(Object(m.a)({},a),r);case O:return Object(m.a)(Object(m.a)({},a),S);case N:var l=r.activity||(null===(e=a.schedule[r.date])||void 0===e?void 0:e.activity)||null,i=Number(r.effort)||(null===(t=a.schedule[r.date])||void 0===t?void 0:t.effort)||null;return Object(m.a)(Object(m.a)({},a),{},{schedule:Object(m.a)(Object(m.a)({},a.schedule),{},Object(u.a)({},r.date,Object(m.a)(Object(m.a)({},a.schedule[r.date]||{}),{},{activity:l,effort:i})))});case y:return Object(m.a)(Object(m.a)({},a),{},{schedule:Object(m.a)(Object(m.a)({},a.schedule),{},Object(u.a)({},s,Object(m.a)(Object(m.a)({},a.schedule[s]),{},{motivated:Number(r.motivated),fast:Number(r.fast),sleep:Number(r.sleep),sleepHours:Number(r.sleepHours)})))});case w:return Object(m.a)(Object(m.a)({},a),{},{schedule:Object(m.a)(Object(m.a)({},a.schedule),{},Object(u.a)({},s,Object(m.a)(Object(m.a)({},a.schedule[s]),{},{lifts:r})))});default:return a}}),Object(i.a)(o.a)),k=a(7),T=a(22),H=a(12);var I=function(){return c.a.createElement("div",{className:"m-4"},c.a.createElement("progress",{className:"progress is-small is-success",max:"100"},"loading"))},D=a(176),C=a.n(D),R=a(177),L=a.n(R);var F=Object(H.g)((function(e){var t=e.reset,a=e.authenticate,r=e.authenticateApp,s=e.history,l=Object(n.useState)(""),i=Object(k.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(k.a)(m,2),f=d[0],b=d[1],v=Object(n.useState)(!1),h=Object(k.a)(v,2),p=h[0],E=h[1],g=Object(n.useState)(!1),j=Object(k.a)(g,2),O=j[0],N=j[1];return Object(n.useEffect)((function(){window.sessionStorage.removeItem("hash"),t(),r(!1)}),[t,r]),c.a.createElement("div",{className:"hero"},c.a.createElement("div",{className:"hero-body has-text-centered"},c.a.createElement("section",{className:"section is-flex-grow-1"},c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),o&&f){E(!0),N(!1);var t=L.a.stringify(C()("".concat(o).concat(f)));a(t).then((function(){window.localStorage.setItem("hash",t),r(!0),s.push("/home")})).catch((function(e){E(!1),N(!0)}))}else N(!0)}},c.a.createElement("input",{className:"input mb-4",id:"email",name:"email",defaultValue:"",type:"text",placeholder:"email",autoComplete:"email",onChange:function(e){return u(e.target.value)}}),c.a.createElement("input",{className:"input mb-4",id:"password",name:"password",defaultValue:"",type:"password",placeholder:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)}}),c.a.createElement("button",{className:"button is-black ".concat(p?"is-loading":""),type:"submit"},"Go")),O&&c.a.createElement("div",{className:"mt-4 has-text-danger"},"invalid"))))})),P={reset:h,authenticate:p},A=Object(l.b)(null,P)(F);var M=function(e){e.x;var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)({}),i=Object(k.a)(l,2),o=i[0],u=i[1];Object(n.useEffect)((function(){var e;(e="lift",new Promise((function(t,a){b.scan({TableName:e},(function(e,n){e?a("data cannot be retrieved"):t(n.Items)}))}))).then(s)}),[]),Object(n.useEffect)((function(){var e={};r.map((function(t){return Object.keys(t).map((function(t){return e[t]=!0}))})),u(e)}),[r]);var m='"'.concat(Object.keys(o).join('","'),'"\n');return r.map((function(e){var t=[];return Object.keys(o).map((function(a){return t.push(e[a])})),m+='"'.concat(t.join('","'),'"\n'),!0})),c.a.createElement("textarea",{style:{fontSize:"6px",height:"99vh",width:"99vw"},value:m})},V=a(178),z=a.n(V),U=a(48),_=a.n(U),W=a(24),B=a(25),G=["Less","Normal","More"];var J=function(e){var t=e.scale,a=void 0===t?G:t;return c.a.createElement("div",{className:"slider-scale mb-4"},a.map((function(e){return c.a.createElement("div",{key:e},e)})))},Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=(new Date).getDay(),q=function(e){return e?1===e?"Tomorrow":(t=K+e)<7?Y[t]:Y[t-7]:"Today";var t},Q=["Rest up!","Enjoy your day off :)","Save some energy","Rest & refuel","Put your feet up","Remember to hydrate","Take a load off"][Math.floor(7*Math.random())];var X=Object(H.g)((function(e){var t=e.schedule,a=e.setSchedule,r=e.updateHiitrx,s=e.history,l=Object(n.useState)([]),i=Object(k.a)(l,2),o=i[0],m=i[1];Object(n.useEffect)((function(){var e=[];[0,1,2,3,4,5,6].forEach((function(t){var a=new Date(Date.now()+864e5*t);e.push(g(a))})),m(e)}),[]);var d=function(e){return function(n){return function(c){var s,l;a(Object(u.a)({date:e},n,c));var i=0===(null===(s=t[o[0]])||void 0===s||null===(l=s.activity)||void 0===l?void 0:l[1]),m=e===g();(i||m)&&r().then(_.a).catch(_.a)}}},f=function(){return r().then((function(){var e,a=(null===(e=t[o[0]])||void 0===e?void 0:e.lifts)?"/results":"/today";s.push(a)})).catch((function(){return console.error("update failed")}))},b=!o.slice(0,4).map((function(e){var a;return((null===(a=t[e])||void 0===a?void 0:a.activity)||[]).includes(1)})).includes(!1);return c.a.createElement("div",{className:"table m-4"},c.a.createElement("div",{className:"headings columns is-mobile"},c.a.createElement("div",{className:"column is-3 forecast-day"},"Day"),c.a.createElement("div",{className:"column is-3 has-text-centered"},"Off"),c.a.createElement("div",{className:"column is-3 has-text-centered"},"HIIT"),c.a.createElement("div",{className:"column is-3 has-text-centered"},"Other")),o.map((function(e,a){var r,s,l,i=function(a){var n,c;return!!(null===(n=t[e])||void 0===n||null===(c=n.activity)||void 0===c?void 0:c[a])?"has-text-success":"has-text-grey-light"},o=d(e)("activity"),u=z()(d(e)("effort"),250);return c.a.createElement(n.Fragment,{key:e},c.a.createElement("div",{className:"columns is-mobile ".concat(a%2?"has-background-white-ter":"")},c.a.createElement("div",{className:"column is-3 has-text-weight-bold forecast-day"},q(a)),c.a.createElement("div",{className:"clickable column is-3 is-flex is-justify-content-center is-align-items-center",onClick:function(){return o([1,0,0])}},c.a.createElement(W.a,{className:i(0),icon:B.a,size:"lg"})),c.a.createElement("div",{className:"clickable column is-3 is-flex is-justify-content-center is-align-items-center",onClick:function(){return o([0,1,0])}},c.a.createElement(W.a,{className:i(1),icon:B.h,size:"lg"})),c.a.createElement("div",{className:"clickable column is-3 is-flex is-justify-content-center is-align-items-center is-relative",onClick:function(){return o([0,0,1])}},c.a.createElement(W.a,{className:"mx-1 ".concat(i(2)),icon:B.i,size:"sm"}),c.a.createElement(W.a,{className:"mx-1 ".concat(i(2)),icon:B.b,size:"sm"}),c.a.createElement(W.a,{className:"mx-1 ".concat(i(2)),icon:B.f,size:"sm"}))),function(e,a){var n,c;return!!(null===(n=t[e])||void 0===n||null===(c=n.activity)||void 0===c?void 0:c[1])&&0===a}(e,a)&&c.a.createElement("div",{className:"columns is-mobile ".concat(a%2?"has-background-white-ter":"")},c.a.createElement("div",{className:"column is-12 is-flex is-justify-content-center is-align-items-center"},b?c.a.createElement("button",{className:"button is-large mb-3",onClick:f},"Today's Workout"):c.a.createElement("div",{className:"py-5 has-text-info"},"Plan the next ",4," days to get your workout"))),function(e,a){var n,c;return!!(null===(n=t[e])||void 0===n||null===(c=n.activity)||void 0===c?void 0:c[0])&&0===a}(e,a)&&c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-12 has-text-centered"},c.a.createElement("div",{className:"py-5 has-text-info"},Q))),!!(null===(r=t[e])||void 0===r||null===(s=r.activity)||void 0===s?void 0:s[2])&&c.a.createElement("div",{className:"columns is-mobile ".concat(a%2?"has-background-white-ter":"")},c.a.createElement("div",{className:"column is-12 is-flex is-align-items-center"},c.a.createElement("div",{className:"mb-1 mx-4 has-text-centered"},"Anticipated",c.a.createElement("br",null),"Effort"),c.a.createElement("div",{className:"is-flex-grow-1 mx-4"},c.a.createElement("input",{defaultValue:null===t||void 0===t||null===(l=t[e])||void 0===l?void 0:l.effort,className:"slider is-warning is-fullwidth is-large mt-2",step:".25",min:"0",max:"10",type:"range",onChange:function(e){return u(e.target.value)}}),c.a.createElement(J,{scale:["light","moderate","hard"]})))))})))})),Z={setSchedule:function(e){return{type:"SET_SCHEDULE",payload:e}},updateHiitrx:E},$=Object(l.b)((function(e){return{schedule:e.schedule}}),Z)(X);var ee=Object(H.g)((function(e){var t,a=e.isLoaded,n=e.name,r=e.location.pathname,s=a&&["/today","/lift","/results"].includes(r),l=!["/login","/home"].includes(r),i=a&&!["/login","/lift"].includes(r),o=(t=r,function(e){var a="step-item is-success";return"/today"===t&&0===e&&(a+=" is-active"),"/lift"===t&&(0===e&&(a+=" is-completed"),1===e&&(a+=" is-active")),"/results"===t&&(a+=e<2?" is-completed":" is-active"),a});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"px-4 is-flex has-background-link-light is-justify-content-space-between is-align-items-center"},c.a.createElement("div",{className:"head-space has-text-info"},c.a.createElement("b",null,"HIITRx")),s&&c.a.createElement("div",{className:"is-flex-grow-1 my-1 px-6"},c.a.createElement("div",{className:"steps is-small"},c.a.createElement("div",{className:o(0)},c.a.createElement("div",{className:"step-marker"},c.a.createElement(W.a,{icon:B.g}))),c.a.createElement("div",{className:o(1)},c.a.createElement("div",{className:"step-marker"},c.a.createElement(W.a,{icon:B.e}))),c.a.createElement("div",{className:o(2)},c.a.createElement("div",{className:"step-marker"},c.a.createElement(W.a,{icon:B.d}))))),c.a.createElement("div",{className:"head-space"},l&&c.a.createElement(T.b,{to:"/home"},c.a.createElement(W.a,{className:"has-text-info",icon:B.c,size:"lg"})))),i&&c.a.createElement("div",{className:"px-4 py-4 is-flex is-justify-content-space-between is-align-items-center"},c.a.createElement("strong",null,"Hello, ",n),c.a.createElement(T.b,{to:"/login"},c.a.createElement("button",{className:"button is-small"},"not ",n,"?"))))})),te=Object(l.b)((function(e){return{isLoaded:!!e.hash,name:e.name}}))(ee);var ae=function(e){var t=e.h,a=e.m,r=e.onChange,s=e.disabled,l=Object(n.useState)(t),i=Object(k.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(a),d=Object(k.a)(m,2),f=d[0],b=d[1],v=function(e){return function(t){return function(a){a.preventDefault();var n=o,c=f;"h"===e?(1===t&&o<23||-1===t&&o>0)&&(n+=t):(15===t&&f<45||-15===t&&f>0)&&(c+=t),u(n),b(c),n===o&&c===f||r({target:{value:"".concat(n+c/60)}})}}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"time-picker mt-4 mb-4"},c.a.createElement("div",null,c.a.createElement("button",{onClick:v("h")(-1),className:"button mr-4",disabled:s},"-"),c.a.createElement("button",{onClick:v("h")(1),className:"button",disabled:s},"+")),c.a.createElement("div",{className:"has-text-centered"},"Sleep duration",c.a.createElement("br",null),c.a.createElement("pre",{className:"p-0 has-background-white"},o," hrs ",f," min")),c.a.createElement("div",null,c.a.createElement("button",{onClick:v("m")(-15),className:"button mr-4",disabled:s},"-"),c.a.createElement("button",{onClick:v("m")(15),className:"button",disabled:s},"+"))),c.a.createElement(J,{scale:["subtract/add hours","subtract/add minutes"]}))};var ne=Object(H.g)((function(e){var t=e.motivated,a=e.fast,r=e.sleep,s=e.sleepHours,l=e.setToday,i=e.hasReported,o=e.updateHiitrx,d=e.history,f=Object(n.useState)({motivated:t,fast:a,sleep:r,sleepHours:s}),b=Object(k.a)(f,2),v=b[0],h=b[1],p="".concat(s).split("."),E=Object(k.a)(p,2),g=E[0],j=E[1];g=g||8,j=j||0;var O=function(e){return function(t){return h(Object(m.a)(Object(m.a)({},v),{},Object(u.a)({},e,Number(t.target.value.trim()))))}};return c.a.createElement("div",{className:"px-4 py-4"},c.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"motivated"},"How motivated are you to train?"),c.a.createElement("input",{id:"motivated",name:"motivated",defaultValue:v.motivated,className:"slider is-warning is-fullwidth is-large mt-2",step:".25",min:"0",max:"10",type:"range",onChange:O("motivated"),disabled:i}),c.a.createElement(J,null)),c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"fast"},"How fresh do your legs feel?"),c.a.createElement("input",{id:"fast",name:"fast",defaultValue:v.fast,className:"slider is-warning is-fullwidth is-large mt-2",step:".25",min:"0",max:"10",type:"range",onChange:O("fast"),disabled:i}),c.a.createElement(J,{scale:["Slow","Normal","Fast"]})),c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"sleep"},"How well did you sleep last night?"),c.a.createElement("input",{id:"sleep",name:"sleep",defaultValue:v.sleep,className:"slider is-warning is-fullwidth is-large mt-2",step:".25",min:"0",max:"10",type:"range",onChange:O("sleep"),disabled:i}),c.a.createElement(J,{scale:["Worse","Normal","Better"]})),c.a.createElement(ae,{h:Number(g),m:60*Number(".".concat(j)),onChange:O("sleepHours"),disabled:i}),c.a.createElement("div",{className:"has-text-centered"},c.a.createElement("button",{className:"button is-black",onClick:function(){l(v),o().then((function(){return d.push("/lift")})).catch(_.a)}},"Next"))))})),ce={setToday:function(e){return{type:"SET_TODAY",payload:e}},updateHiitrx:E},re=Object(l.b)((function(e){var t=e.schedule[g()];return{motivated:t.motivated||5,fast:t.fast||5,sleep:t.sleep||5,sleepHours:t.sleepHours||8}}),ce)(ne),se=a(38),le=a(179),ie=a.n(le),oe=a(686),ue="local",me="session",de=[{label:"Date",field:"date",type:"hidden",db:me},{label:"How motivated are you to train?",field:"motivated",type:"slider",db:me},{label:"How fresh do your legs feel?",field:"fast",type:"slider",scale:["Slow","Normal","Fast"],db:me},{label:"How well did you sleep last night?",field:"sleep",type:"slider",scale:["Worse","Normal","Better"],db:me},{label:"How long did you sleep?",field:"sleepHours",type:"time",db:me}],fe=function(e){var t=de.find((function(t){return t.field===e}));return t&&t.db};function be(e){return fe(e)===ue?window.localStorage.getItem(e):window.sessionStorage.getItem(e)}var ve={items:de,setItem:function(e,t){fe(e)===ue?window.localStorage.setItem(e,t):window.sessionStorage.setItem(e,t)},getItem:be,removeItem:function(e,t){fe(e)===ue?window.localStorage.removeItem(e,t):window.sessionStorage.removeItem(e,t)},isValid:function(){return!de.map((function(e){return!!be(e.field)})).includes(!1)&&be("date")===(new Date).toLocaleDateString()},isValidUser:function(){var e=window.localStorage.getItem("user");if(e){var t=JSON.parse(e),a=t.email,n=t.name,c=t.age;return!!(a&&n&&c)&&{email:a,name:n,age:c}}return!1}},he={name:"unspecified",age:"unspecified"};function pe(e){var t=e.id,a=void 0===t?Object(oe.a)():t,n=e.timestamp,c=void 0===n?Date.now():n,r=e.winNavUa,s=void 0===r?window.navigator.userAgent:r;return Object(m.a)(Object(m.a)({id:a,timestamp:c,winNavUa:s},ve.items.reduce((function(e,t){var a=t.field;return Object(m.a)(Object(u.a)({},a,ve.getItem(a)||he[a]),e)}),{})),e)}var Ee="Press",ge=function(e){return e.reduce((function(e,t,a,n){return a%2?e:[].concat(Object(se.a)(e),[n[a+1].timeStamp-t.timeStamp])}),[])};var je=Object(H.g)((function(e){var t=e.lifts,a=e.setLifts,r=e.updateHiitrx,s=e.history,l=Object(n.useState)(Ee),i=Object(k.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)([]),d=Object(k.a)(m,2),f=d[0],b=d[1],h=Object(n.useState)(!1),p=Object(k.a)(h,2),E=p[0],g=p[1],j=Object(n.useState)(!1),O=Object(k.a)(j,2),N=O[0],y=O[1],w=Object(n.useState)(!1),S=Object(k.a)(w,2),x=S[0],T=S[1],H=Object(n.useState)(!1),D=Object(k.a)(H,2),C=D[0],R=D[1],L=Object(n.useState)(!1),F=Object(k.a)(L,2),P=F[0],A=F[1],M=Object(n.useRef)(null),V=Object(n.useRef)(0),z=Object(n.useRef)();if(Object(n.useEffect)((function(){ie.a.set("#circle",{start:function(){V.current=0},change:function(e){V.current=e>V.current?e:V.current},unsupported:function(){V.current=-1}},{only:"touch",polyfill:!1})}),[]),Object(n.useEffect)((function(){if(N){var e=1500+Math.round(250*Math.random());M.current=setTimeout((function(){T(!0),b((function(e){return[].concat(Object(se.a)(e),[{timeStamp:Date.now()}])}))}),e)}}),[N]),Object(n.useEffect)((function(){10===f.length&&R(!0)}),[f]),P)return c.a.createElement(I,null);if(t||C){var U=t||ge(f);return c.a.createElement("div",{className:"table m-4"},c.a.createElement("div",{className:"headings columns is-mobile"},c.a.createElement("div",{className:"column is-6"},"Attempt"),c.a.createElement("div",{className:"column is-6 has-text-centered"},"Reaction Speed")),U.map((function(e,t){return c.a.createElement("div",{key:e,className:"columns is-mobile"},c.a.createElement("div",{className:"column is-6 has-text-weight-bold"},t+1),c.a.createElement("div",{className:"column is-6 has-text-centered"},"".concat(e,"ms")))})),c.a.createElement("div",{className:"column is-12 has-text-centered"},c.a.createElement("button",{className:"button is-info is-light mr-2",onClick:function(){u(Ee),b([]),g(!1),y(!1),T(!1),R(!1)},disabled:!!t},"Retry"),c.a.createElement("button",{className:"button is-black",onClick:function(){if(t)s.push("/results");else{var e=ge(f);A(!0),a(e),function(e){for(var t=[],a=Date.now(),n=function(n){t.push(new Promise((function(t,c){v(pe({timeStamp:a,trigger:e[n].timeStamp,lift:e[n+1].timeStamp,pressure:e[n+1].pressure}),"lift").then(t).catch(c)})))},c=0;c<e.length;c+=2)n(c);return Promise.all(t)}(f).then(r).then((function(){return s.push("/results")})).catch((function(){})),clearTimeout(z.current)}}},"Next")))}return c.a.createElement("div",{className:"px-4 py-4"},c.a.createElement("div",{className:"mb-4"},"Press with your thumb. When the border turns red, lift your thumb. Repeat five times."),c.a.createElement("section",{className:"section py-0 lift",style:{position:"absolute",bottom:30,left:"50%",transform:"translate(-50%)"}},c.a.createElement("div",{id:"circle",className:"circle ".concat(N&&"pressed"," ").concat(x&&"triggered"),onPointerDown:function(e){o===Ee&&(g(!0),y(!0))},onPointerUp:function(e){y(!1),E&&o===Ee&&(x?(u("Good"),b([].concat(Object(se.a)(f),[{timeStamp:Date.now(),pressure:V.current}]))):(u("!"),clearTimeout(M.current)),g(!1),T(!1),z.current=setTimeout((function(){return u(Ee)}),1500))}},o)))})),Oe={setLifts:function(e){return{type:"SET_LIFTS",payload:e}},updateHiitrx:E},Ne=Object(l.b)((function(e){var t;return{lifts:null===(t=e.schedule[g()])||void 0===t?void 0:t.lifts}}),Oe)(je);var ye=function(e){var t=e.speed,a=e.readiness;return c.a.createElement("section",{className:"section"},c.a.createElement("article",{className:"message is-info"},c.a.createElement("div",{className:"message-header"},c.a.createElement("p",null,"HIIT readiness")),c.a.createElement("div",{className:"message-body"},a,"%")),c.a.createElement("article",{className:"message is-info"},c.a.createElement("div",{className:"message-header"},c.a.createElement("p",null,"Reaction score")),c.a.createElement("div",{className:"message-body"},t," ms")),c.a.createElement("div",{className:"has-text-centered"},c.a.createElement(T.b,{to:"/home"},c.a.createElement("button",{className:"button is-black"},"Done"))))},we=[0,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10],Se=function(e){return e.reduce((function(e,t,a){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},we[a],t))}),{})},xe={motivated:Se([0,2.5,3.125,3.75,4.375,5,5.625,6.25,6.875,7.5,8.125,8.75,9.375,10,10.625,11.25,11.875,12.5,13.125,13.75,14.375,15,15.625,16.25,16.875,17.5,18.125,18.75,19.375,20,20.625,21.25,21.875,22.5,23.125,23.75,24.375,25]),fast:Se([0,2.5,3.125,3.75,4.375,5,5.625,6.25,6.875,7.5,8.125,8.75,9.375,10,10.625,11.25,11.875,12.5,13.125,13.75,14.375,15,15.625,16.25,16.875,17.5,18.125,18.75,19.375,20,20.625,21.25,21.875,22.5,23.125,23.75,24.375,25]),sleep:Se([0,2.5,3.125,3.75,4.375,5,5.625,6.25,6.875,7.5,8.125,8.75,9.375,10,10.625,11.25,11.875,12.5,13.125,13.75,14.375,15,15.625,16.25,16.875,17.5,18.125,18.75,19.375,20,20.625,21.25,21.875,22.5,23.125,23.75,24.375,25]),sleepHours:Se([0,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.45,1.6,1.95,2.5,3.3,4.2,5.2,6.3,7.5,8.8,10.2,11.7,13.45,15.2,16.95,18.45,19.7,20.95,22.2,23.2,23.95,24.45,24.75,24.9,25,25,25,25,25])},ke=function(e){var t=Object(se.a)(e.sort());5===t.length&&(t.pop(),t.shift());var a=t.reduce((function(e,t){return Number(e)+Number(t)}),0)/t.length;return Math.round(a)},Te=function(e){return["motivated","fast","sleep","sleepHours"].reduce((function(t,a){return t+xe[a][e[a]]}),0)},He=Object(l.b)((function(e){var t=e.schedule[g()];return{speed:ke(t.lifts),readiness:Te(t)}}))(ye);function Ie(e){var t=e.motivated,a=e.fast,n=e.sleep,c=e.sleepHours;return!!(t&&a&&n&&c)}var De={authenticate:p,setStatus:function(e){return{type:"SET_STATUS"}}},Ce=Object(l.b)((function(e){var t,a=g();return{isLoaded:!!e.hash,todaysSchedule:(null===(t=e.schedule)||void 0===t?void 0:t[a])||{}}}),De)((function(e){var t=e.isLoaded,a=e.authenticate,r=e.todaysSchedule,s=Object(n.useState)(!1),l=Object(k.a)(s,2),i=l[0],o=l[1],u=Object(n.useState)(!1),m=Object(k.a)(u,2),d=m[0],f=m[1],b=Object(n.useState)(!1),v=Object(k.a)(b,2),h=v[0],p=v[1],E=Object(n.useRef)(!0),g=Object(n.useState)({isHiitDay:!1,hasReported:!1,hasLifted:!1}),j=Object(k.a)(g,2),O=j[0],N=j[1];return Object(n.useEffect)((function(){var e=window.sessionStorage.getItem("hash");e&&E.current?(console.debug("HIITRx: running login effect"),p(!0),a(e).then((function(){return o(!0)})).catch((function(){})).finally((function(){f(!0),p(!1)}))):f(!0),E.current=!1}),[t,a,N]),Object(n.useEffect)((function(){var e,t,a={isHiitDay:!!(null===(e=r.activity)||void 0===e?void 0:e[1]),hasReported:Ie(r),hasLifted:(t=r,!!t.lifts)};N(a)}),[r]),h?c.a.createElement(T.a,null,c.a.createElement(te,null),c.a.createElement(I,null)):d?c.a.createElement(T.a,null,c.a.createElement(te,null),c.a.createElement(H.d,null,c.a.createElement(H.b,{path:"/data/:table(lift)",render:function(e){return c.a.createElement(M,{rp:e})}}),c.a.createElement(H.b,{path:"/login"},c.a.createElement(A,{authenticateApp:o})),!i&&c.a.createElement(H.a,{to:"/login"}),c.a.createElement(H.b,{path:"/home"},c.a.createElement($,null)),c.a.createElement(H.b,{path:"/today"},c.a.createElement(re,{hasReported:O.hasReported})),!O.hasReported&&c.a.createElement(H.a,{to:"/home"}),c.a.createElement(H.b,{path:"/lift"},c.a.createElement(Ne,null)),!O.hasLifted&&c.a.createElement(H.a,{to:"/home"}),c.a.createElement(H.b,{path:"/results"},c.a.createElement(He,null)),c.a.createElement(H.a,{to:"/home"}))):null}));window.addEventListener("contextmenu",(function(e){e.preventDefault()})),s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:x},c.a.createElement(Ce,null))),document.getElementById("root"))},69:function(e,t){}},[[180,1,2]]]);
//# sourceMappingURL=main.25db8c58.chunk.js.map