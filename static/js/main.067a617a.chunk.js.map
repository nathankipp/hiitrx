{"version":3,"sources":["lib/computeMillis.js","lib/db.js","lib/getFullDate.js","lib/storage.js","lib/table.js","redux/actions.js","redux/reducer.js","redux/store.js","Components/Progress/index.js","Components/Progress/Progress.js","Components/Login/Login.js","Components/Login/LoginContainer.js","Components/Login/index.js","Components/Data/index.js","Components/Data/Data.js","Components/SliderScale/SliderScale.js","Components/SliderScale/index.js","Components/Home/Home.js","Components/Home/HomeContainer.js","Components/Home/index.js","Components/Header/Header.js","Components/Header/index.js","Components/Header/HeaderContainer.js","Components/TimePicker/index.js","Components/TimePicker/TimePicker.js","Components/Today/Today.js","Components/Today/TodayContainer.js","Components/Today/index.js","Components/Lift/Lift.js","Components/Lift/LiftContainer.js","Components/Lift/index.js","Components/Results/Results.js","Components/Results/ResultsContainer.js","Components/Results/index.js","Components/Workout/Preview.js","Components/Controls/Controls.js","Components/Controls/index.js","Components/Timer/Timer.js","Components/Timer/index.js","lib/keyGen.js","lib/getTime.js","Components/Workout/index.js","Components/Workout/Workout.js","Components/App/App.js","Components/App/AppContainer.js","Components/App/index.js","index.js"],"names":["computeMillis","time","split","reverse","sec","min","ms","AWS","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","dynamo","DynamoDB","DocumentClient","getFullDate","d","Date","fullDate","getFullYear","mo","getMonth","push","dy","getDate","join","LS","ITEMS","name","db","whichDb","item","i","find","setItem","value","window","localStorage","sessionStorage","getItem","removeItem","keys","build","type","reduce","acc","cur","idx","motivated","fast","sleep","sleepHours","reset","authenticate","hash","dispatch","TableName","Key","AttributesToGet","params","Promise","resolve","reject","get","err","data","Item","fetchItem","then","state","storage","payload","updateHiitrx","_","getState","put","LOAD","RESET","SET_ACTIVITY","SET_EFFORT","SET_TODAY","SET_LIFTS","SET_PRESSURES","DEFAULT_STATE","date","email","age","schedule","store","createStore","action","today","activity","effort","Number","lifts","pressures","applyMiddleware","thunk","Progress","className","max","withRouter","authenticateApp","history","useState","setEmail","password","setPassword","working","setWorking","invalid","setInvalid","useEffect","onSubmit","e","preventDefault","Base64","stringify","sha256","catch","id","defaultValue","placeholder","autoComplete","onChange","target","mapDispatchToProps","LoginContainer","connect","Login","Data","x","setData","setKeys","scan","Items","k","map","Object","key","csv","row","style","fontSize","height","width","SCALE","SliderScale","scale","tick","DAYS","getDay","getDayText","plus","day","randomMessage","Math","floor","random","setActivity","setEffort","dates","setDates","updateFn","useRef","debounce","noop","dts","forEach","now","current","saveAndNext","to","console","error","haveEnoughEntries","slice","includes","iconColor","setActivityHandler","onClick","icon","faBed","size","faStopwatch","faSwimmer","faBiking","faRunning","showTodayMessage","showRestMessage","step","HomeContainer","Home","path","isLoaded","pathname","location","showSteps","showHomeLink","showGreeting","stepperClass","faSmile","faDotCircle","faCheckCircle","faCalendarAlt","HeaderContainer","Header","TimePicker","h","m","disabled","hours","setHours","minutes","setMinutes","adjust","which","amount","newHours","newMinutes","setToday","hasReported","answers","setAnswers","trim","htmlFor","TodayContainer","Today","DEFAULTS","getLiftIntervals","clicks","arr","timeStamp","setLifts","setPressures","ctext","setCtext","setClicks","active","setActive","pressed","setPressed","triggered","setTriggered","done","setDone","liftTimer","maxForce","textChange","Pressure","set","start","change","force","unsupported","only","polyfill","rand","round","setTimeout","c","SAMPLE_SIZE","length","attempts","speed","computedLifts","pressure","clearTimeout","position","bottom","left","transform","onPointerDown","onPointerUp","LiftContainer","Lift","Results","readiness","getAvgSpeed","speeds","sort","pop","shift","avg","getReadines","table","ResultsContainer","sched","Preview","intervals","onNext","int","from","Controls","props","running","stop","nowish","Timer","defaultTime","autoStart","controls","direction","limit","playBeep","onComplete","storageKey","isCountDown","STORAGE_KEY","RUNNING_KEY","STARTED_KEY","isRunning","setRunning","sessionStarted","started","setStarted","initialTime","sessionTime","setTime","play","timer","setInterval","t","startedAt","elapsed","clearInterval","trunc","seconds","toFixed","replace","getTime","Workout","preview","setPreview","workout","setWorkout","count","setCount","audioContext","resume","beep","JSON","detail","storedWorkout","parse","timerId","currentTimer","interval","AppContainer","todaysSchedule","authenticated","setAuthenticated","initialized","setInitialized","first","isHiitDay","hasLifted","status","setStatus","debug","finally","newStatus","render","rp","addEventListener","ReactDOM","StrictMode","document","getElementById"],"mappings":"kdAAe,SAASA,EAAcC,GAAO,IAAD,EACvBA,EAAKC,MAAM,KAAKC,UADO,mBACnCC,EADmC,KAC9BC,EAD8B,KAEtCC,EAAK,EAST,OAPIF,IACFE,GAAa,KAANF,GAELC,IACFC,GAAa,KAAND,EAAa,IAGfC,E,qBCTTC,IAAIC,OAAOC,OAAS,YACpBF,IAAIC,OAAOE,YAAc,IAAIH,IAAII,2BAA2B,CAC1DC,eAAgB,mDAGlB,IAAMC,EAAS,IAAIN,IAAIO,SAASC,eCPjB,SAASC,IAA6B,IAAjBC,EAAgB,uDAAZ,IAAIC,KACpCC,EAAW,CAACF,EAAEG,eACdC,EAAKJ,EAAEK,WAAa,EAC1BH,EAASI,KAAKF,EAAK,GAAL,WAAcA,GAAOA,GACnC,IAAMG,EAAKP,EAAEQ,UAEb,OADAN,EAASI,KAAKC,EAAK,GAAL,WAAcA,GAAOA,GAC5BL,EAASO,KAAK,KCNvB,IAAMC,EAAK,QAGLC,EAAQ,CACZ,CAAEC,KAAM,OAAQC,GAHP,WAIT,CAAED,KAAM,UAAWC,GAAIH,IAGnBI,EAAU,SAACC,GACf,IAAMC,EAAIL,EAAMM,MAAK,qBAAGL,OAAoBG,KAC5C,OAAOC,GAAKA,EAAEH,IAgCD,OACbK,QA9BF,SAAiBH,EAAMI,GACVL,EAAQC,KACRL,EACTU,OAAOC,aAAaH,QAAQH,EAAMI,GAElCC,OAAOE,eAAeJ,QAAQH,EAAMI,IA0BtCI,QAtBF,SAAiBR,GAQf,OANWD,EAAQC,KACRL,EACDU,OAAOC,aAAaE,QAAQR,GAE5BK,OAAOE,eAAeC,QAAQR,IAiBxCS,WAZF,SAAoBT,GACPD,EAAQC,KACRL,EACTU,OAAOC,aAAaG,WAAWT,GAE/BK,OAAOE,eAAeE,WAAWT,KCtC/BU,EAAO,CACX,EACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,EACA,KACA,IACA,KACA,IAmKIC,EAAQ,SAACC,GAAD,OACZA,EAAKC,QACH,SAACC,EAAKC,EAAKC,GAAX,mBAAC,eACIF,GADL,kBAEGJ,EAAKM,GAAOD,MAEf,KAGW,GACbE,UAAWN,EA3KK,CAChB,EACA,IACA,MACA,KACA,MACA,EACA,MACA,KACA,MACA,IACA,MACA,KACA,MACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,KAsIAO,KAAMP,EApIK,CACX,EACA,IACA,MACA,KACA,MACA,EACA,MACA,KACA,MACA,IACA,MACA,KACA,MACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,KA+FAQ,MAAOR,EA7FK,CACZ,EACA,IACA,MACA,KACA,MACA,EACA,MACA,KACA,MACA,IACA,MACA,KACA,MACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,GACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,KAwDAS,WAAYT,EAtDK,CACjB,EACA,EACA,KACA,IACA,KACA,IACA,KACA,IACA,KACA,KACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,MACA,MACA,KACA,GACA,GACA,GACA,GACA,MChLWU,EAAQ,iBAAO,CAAET,KAnBhB,UAqBDU,EAAe,SAACC,GAAD,OAAU,SAACC,GAAD,OJd/B,SAAmBC,EAAWC,EAAKC,GACxC,IAAMC,EAAS,CAAEH,YAAWC,OAI5B,OAHIC,IACFC,EAAOD,gBAAkBA,GAEpB,IAAIE,SAAQ,SAACC,EAASC,GAC3BlD,EAAOmD,IAAIJ,GAAQ,SAACK,EAAKC,GACnBD,EACFF,EAAO,4BAEPD,EAAQI,EAAKC,YIKnBC,CAAU,SAAU,CAAEb,SAEnBc,MAAK,SAACC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","file":"static/js/main.067a617a.chunk.js","sourcesContent":["export default function computeMillis(time) {\n  const [sec, min] = time.split(':').reverse();\n  let ms = 0;\n\n  if (sec) {\n    ms += +sec * 1000;\n  }\n  if (min) {\n    ms += +min * 1000 * 60;\n  }\n\n  return ms;\n}\n","import AWS from 'aws-sdk';\n\nAWS.config.region = 'us-east-2'; // Region\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: 'us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4',\n});\n\nconst dynamo = new AWS.DynamoDB.DocumentClient();\nconst TABLE_NAME = 'hiitrx';\n\nexport function fetchItem(TableName, Key, AttributesToGet) {\n  const params = { TableName, Key };\n  if (AttributesToGet) {\n    params.AttributesToGet = AttributesToGet;\n  }\n  return new Promise((resolve, reject) => {\n    dynamo.get(params, (err, data) => {\n      if (err) {\n        reject('item cannot be retrieved');\n      } else {\n        resolve(data.Item);\n      }\n    });\n  });\n}\n\nexport function put(Item, TableName = TABLE_NAME) {\n  return new Promise((resolve, reject) => {\n    dynamo.put({ Item, TableName }, (err, data) => {\n      if (err) {\n        reject(`Error: data was not saved to ${TableName}`);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n\nexport function scan(TableName = TABLE_NAME) {\n  return new Promise((resolve, reject) => {\n    dynamo.scan({ TableName }, (err, data) => {\n      if (err) {\n        reject('data cannot be retrieved');\n      } else {\n        resolve(data.Items);\n      }\n    });\n  });\n}\n","export default function getFullDate(d = new Date()) {\n  const fullDate = [d.getFullYear()];\n  const mo = d.getMonth() + 1;\n  fullDate.push(mo < 10 ? `0${mo}` : mo);\n  const dy = d.getDate();\n  fullDate.push(dy < 10 ? `0${dy}` : dy);\n  return fullDate.join('-');\n}\n","const LS = 'local';\nconst SS = 'session';\n\nconst ITEMS = [\n  { name: 'hash', db: SS },\n  { name: 'workout', db: LS },\n];\n\nconst whichDb = (item) => {\n  const i = ITEMS.find(({ name }) => name === item);\n  return i && i.db;\n};\n\nfunction setItem(item, value) {\n  const db = whichDb(item);\n  if (db === LS) {\n    window.localStorage.setItem(item, value);\n  } else {\n    window.sessionStorage.setItem(item, value);\n  }\n}\n\nfunction getItem(item) {\n  let value;\n  const db = whichDb(item);\n  if (db === LS) {\n    value = window.localStorage.getItem(item);\n  } else {\n    value = window.sessionStorage.getItem(item);\n  }\n  return value;\n}\n\nfunction removeItem(item) {\n  const db = whichDb(item);\n  if (db === LS) {\n    window.localStorage.removeItem(item);\n  } else {\n    window.sessionStorage.removeItem(item);\n  }\n}\n\nexport default {\n  setItem,\n  getItem,\n  removeItem,\n};\n","const keys = [\n  0,\n  1,\n  1.25,\n  1.5,\n  1.75,\n  2,\n  2.25,\n  2.5,\n  2.75,\n  3,\n  3.25,\n  3.5,\n  3.75,\n  4,\n  4.25,\n  4.5,\n  4.75,\n  5,\n  5.25,\n  5.5,\n  5.75,\n  6,\n  6.25,\n  6.5,\n  6.75,\n  7,\n  7.25,\n  7.5,\n  7.75,\n  8,\n  8.25,\n  8.5,\n  8.75,\n  9,\n  9.25,\n  9.5,\n  9.75,\n  10,\n];\nconst motivated = [\n  0,\n  2.5,\n  3.125,\n  3.75,\n  4.375,\n  5,\n  5.625,\n  6.25,\n  6.875,\n  7.5,\n  8.125,\n  8.75,\n  9.375,\n  10,\n  10.625,\n  11.25,\n  11.875,\n  12.5,\n  13.125,\n  13.75,\n  14.375,\n  15,\n  15.625,\n  16.25,\n  16.875,\n  17.5,\n  18.125,\n  18.75,\n  19.375,\n  20,\n  20.625,\n  21.25,\n  21.875,\n  22.5,\n  23.125,\n  23.75,\n  24.375,\n  25,\n];\nconst fast = [\n  0,\n  2.5,\n  3.125,\n  3.75,\n  4.375,\n  5,\n  5.625,\n  6.25,\n  6.875,\n  7.5,\n  8.125,\n  8.75,\n  9.375,\n  10,\n  10.625,\n  11.25,\n  11.875,\n  12.5,\n  13.125,\n  13.75,\n  14.375,\n  15,\n  15.625,\n  16.25,\n  16.875,\n  17.5,\n  18.125,\n  18.75,\n  19.375,\n  20,\n  20.625,\n  21.25,\n  21.875,\n  22.5,\n  23.125,\n  23.75,\n  24.375,\n  25,\n];\nconst sleep = [\n  0,\n  2.5,\n  3.125,\n  3.75,\n  4.375,\n  5,\n  5.625,\n  6.25,\n  6.875,\n  7.5,\n  8.125,\n  8.75,\n  9.375,\n  10,\n  10.625,\n  11.25,\n  11.875,\n  12.5,\n  13.125,\n  13.75,\n  14.375,\n  15,\n  15.625,\n  16.25,\n  16.875,\n  17.5,\n  18.125,\n  18.75,\n  19.375,\n  20,\n  20.625,\n  21.25,\n  21.875,\n  22.5,\n  23.125,\n  23.75,\n  24.375,\n  25,\n];\nconst sleepHours = [\n  0,\n  1,\n  1.05,\n  1.1,\n  1.15,\n  1.2,\n  1.25,\n  1.3,\n  1.35,\n  1.45,\n  1.6,\n  1.95,\n  2.5,\n  3.3,\n  4.2,\n  5.2,\n  6.3,\n  7.5,\n  8.8,\n  10.2,\n  11.7,\n  13.45,\n  15.2,\n  16.95,\n  18.45,\n  19.7,\n  20.95,\n  22.2,\n  23.2,\n  23.95,\n  24.45,\n  24.75,\n  24.9,\n  25,\n  25,\n  25,\n  25,\n  25,\n];\n\nconst build = (type) =>\n  type.reduce(\n    (acc, cur, idx) => ({\n      ...acc,\n      [keys[idx]]: cur,\n    }),\n    {}\n  );\n\nexport default {\n  motivated: build(motivated),\n  fast: build(fast),\n  sleep: build(sleep),\n  sleepHours: build(sleepHours),\n};\n","import { fetchItem, put, storage } from '../lib';\n\nconst LOAD = 'LOAD';\nconst RESET = 'RESET';\nconst SET_ACTIVITY = 'SET_ACTIVITY';\nconst SET_EFFORT = 'SET_EFFORT';\nconst SET_TODAY = 'SET_TODAY';\nconst SET_LIFTS = 'SET_LIFTS';\nconst SET_PRESSURES = 'SET_PRESSURES';\n\nexport const actionTypes = {\n  LOAD,\n  RESET,\n  SET_ACTIVITY,\n  SET_EFFORT,\n  SET_TODAY,\n  SET_LIFTS,\n  SET_PRESSURES,\n};\n\nexport const load = (payload) => ({ type: LOAD, payload });\n\nexport const reset = () => ({ type: RESET });\n\nexport const authenticate = (hash) => (dispatch) =>\n  fetchItem('hiitrx', { hash })\n    // .then(x => new Promise(resolve => setTimeout(() => resolve(x), 2000)))\n    .then((state) => {\n      if (state) {\n        storage.setItem('hash', state.hash);\n        dispatch(load(state));\n        return Promise.resolve(state.hash);\n      }\n      storage.removeItem('hash');\n      dispatch(reset());\n      return Promise.reject();\n    });\n\nexport const setActivity = (payload) => ({ type: SET_ACTIVITY, payload });\n\nexport const setEffort = (payload) => ({ type: SET_EFFORT, payload });\n\nexport const setToday = (payload) => ({ type: SET_TODAY, payload });\n\nexport const setLifts = (payload) => ({ type: SET_LIFTS, payload });\n\nexport const setPressures = (payload) => ({ type: SET_PRESSURES, payload });\n\nexport const updateHiitrx = () => (_, getState) => put(getState());\n","import { actionTypes } from './actions';\nimport { getFullDate } from '../lib';\n\nconst {\n  LOAD,\n  RESET,\n  SET_ACTIVITY,\n  SET_EFFORT,\n  SET_TODAY,\n  SET_LIFTS,\n  SET_PRESSURES,\n} = actionTypes;\n\nexport const DEFAULT_STATE = {\n  date: null,\n  hash: null,\n  email: null,\n  name: null,\n  age: null,\n  schedule: {},\n};\n\nexport default function (state = DEFAULT_STATE, action) {\n  const { type, payload } = action;\n  const today = getFullDate();\n  switch (type) {\n    case LOAD:\n      return {\n        ...state,\n        ...payload,\n      };\n    case RESET:\n      return {\n        ...state,\n        ...DEFAULT_STATE,\n      };\n    case SET_ACTIVITY:\n      return {\n        ...state,\n        schedule: {\n          ...state.schedule,\n          [payload.date]: {\n            ...(state.schedule[payload.date] || {}),\n            activity: payload.activity,\n          },\n        },\n      };\n    case SET_EFFORT:\n      return {\n        ...state,\n        schedule: {\n          ...state.schedule,\n          [payload.date]: {\n            ...(state.schedule[payload.date] || {}),\n            effort: payload.effort,\n          },\n        },\n      };\n    case SET_TODAY:\n      return {\n        ...state,\n        schedule: {\n          ...state.schedule,\n          [today]: {\n            ...state.schedule[today],\n            motivated: Number(payload.motivated),\n            fast: Number(payload.fast),\n            sleep: Number(payload.sleep),\n            sleepHours: Number(payload.sleepHours),\n          },\n        },\n      };\n    case SET_LIFTS:\n      return {\n        ...state,\n        schedule: {\n          ...state.schedule,\n          [today]: {\n            ...state.schedule[today],\n            lifts: payload,\n          },\n        },\n      };\n    case SET_PRESSURES:\n      return {\n        ...state,\n        schedule: {\n          ...state.schedule,\n          [today]: {\n            ...state.schedule[today],\n            pressures: payload,\n          },\n        },\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducer';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;\n","import Progress from './Progress';\n\nexport default Progress;\n","import React from 'react';\n\nexport default function Progress() {\n  return (\n    <div className=\"m-4\">\n      <progress className=\"progress is-small is-success\" max=\"100\">\n        loading\n      </progress>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport sha256 from 'crypto-js/sha256';\nimport Base64 from 'crypto-js/enc-base64';\nimport { storage } from '../../lib';\n\nfunction Login({ reset, authenticate, authenticateApp, history }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [working, setWorking] = useState(false);\n  const [invalid, setInvalid] = useState(false);\n\n  useEffect(() => {\n    storage.removeItem('hash');\n    reset();\n    authenticateApp(false);\n  }, [reset, authenticateApp]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (email && password) {\n      setWorking(true);\n      setInvalid(false);\n      const hash = Base64.stringify(sha256(`${email}${password}`));\n      authenticate(hash)\n        .then(() => {\n          storage.setItem('hash', hash);\n          authenticateApp(true);\n          history.push('/home');\n        })\n        .catch((e) => {\n          setWorking(false);\n          setInvalid(true);\n        });\n    } else {\n      setInvalid(true);\n    }\n  };\n\n  return (\n    <div className=\"hero\">\n      <div className=\"hero-body has-text-centered\">\n        <section className=\"section is-flex-grow-1\">\n          <form onSubmit={onSubmit}>\n            <input\n              className=\"input mb-4\"\n              id=\"email\"\n              name=\"email\"\n              defaultValue=\"\"\n              type=\"text\"\n              placeholder=\"email\"\n              autoComplete=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <input\n              className=\"input mb-4\"\n              id=\"password\"\n              name=\"password\"\n              defaultValue=\"\"\n              type=\"password\"\n              placeholder=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <button\n              className={`button is-black ${working ? 'is-loading' : ''}`}\n              type=\"submit\"\n            >\n              Go\n            </button>\n          </form>\n          {invalid && <div className=\"mt-4 has-text-danger\">invalid</div>}\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","import { connect } from 'react-redux';\nimport Login from './Login';\nimport { reset, authenticate } from '../../redux/actions';\n\nconst mapDispatchToProps = { reset, authenticate };\n\nexport default connect(null, mapDispatchToProps)(Login);\n","import LoginContainer from './LoginContainer';\n\nexport default LoginContainer;\n","import Data from './Data';\n\nexport default Data;\n","import React, { useState, useEffect } from 'react';\nimport { scan } from '../../lib';\n\nexport default function Data({ x }) {\n  const [data, setData] = useState([]);\n  const [keys, setKeys] = useState({});\n\n  useEffect(() => {\n    scan('lift').then(setData);\n  }, []);\n\n  useEffect(() => {\n    const k = {};\n    data.map((item) => Object.keys(item).map((key) => (k[key] = true)));\n    setKeys(k);\n  }, [data]);\n\n  let csv = `\"${Object.keys(keys).join('\",\"')}\"\\n`;\n  data.map((item) => {\n    const row = [];\n    Object.keys(keys).map((key) => row.push(item[key]));\n    csv += `\"${row.join('\",\"')}\"\\n`;\n    return true;\n  });\n\n  return (\n    <textarea\n      style={{ fontSize: '6px', height: '99vh', width: '99vw' }}\n      value={csv}\n    />\n  );\n}\n","import React from 'react';\n\nconst SCALE = ['Less', 'Normal', 'More'];\n\nexport default function SliderScale({ scale = SCALE }) {\n  return (\n    <div className=\"slider-scale mb-4\">\n      {scale.map((tick) => (\n        <div key={tick}>{tick}</div>\n      ))}\n    </div>\n  );\n}\n","import SliderScale from './SliderScale';\n\nexport default SliderScale;\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport noop from 'lodash/noop';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBed,\n  faStopwatch,\n  faRunning,\n  faSwimmer,\n  faBiking,\n} from '@fortawesome/free-solid-svg-icons';\nimport SliderScale from '../SliderScale';\nimport { getFullDate } from '../../lib';\n\nconst DAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst today = new Date().getDay();\nconst getDay = (day) => (day < 7 ? DAYS[day] : DAYS[day - 7]);\nconst getDayText = (plus) =>\n  !plus ? 'Today' : plus === 1 ? 'Tomorrow' : getDay(today + plus);\n\nconst restMessages = [\n  'Rest up!',\n  'Enjoy your day off :)',\n  'Save some energy',\n  'Rest & refuel',\n  'Put your feet up',\n  'Remember to hydrate',\n  'Take a load off',\n];\nconst randomMessage = restMessages[Math.floor(Math.random() * 7)];\n\nconst getColor = (toggle) =>\n  toggle ? 'has-text-success' : 'has-text-grey-light';\n\nfunction Home({ schedule, setActivity, setEffort, updateHiitrx, history }) {\n  const [dates, setDates] = useState([]);\n  const updateFn = useRef(\n    // react's synthetic event plays poorly w/ debounce for onChanges\n    // this ain't great; nor is the double-noop; FIX?\n    debounce(() => updateHiitrx().then(noop).catch(noop), 250)\n  );\n\n  useEffect(() => {\n    const dts = [];\n    [0, 1, 2, 3, 4, 5, 6].forEach((day) => {\n      const date = new Date(Date.now() + 1000 * 60 * 60 * 24 * day);\n      dts.push(getFullDate(date));\n    });\n    setDates(dts);\n  }, []);\n\n  useEffect(() => {\n    updateFn.current();\n  }, [schedule]);\n\n  const saveAndNext = () =>\n    updateHiitrx()\n      .then(() => {\n        const to = !!schedule[dates[0]]?.lifts ? '/results' : '/today';\n        history.push(to);\n      })\n      .catch(() => console.error('update failed'));\n\n  // only show button if there are entries for next # days\n  const DAYS_OUT = 4;\n  const haveEnoughEntries = !dates\n    .slice(0, DAYS_OUT)\n    .map((date) => (schedule[date]?.activity || []).includes(1))\n    .includes(false);\n\n  const showTodayMessage = (date, idx) =>\n    !!schedule[date]?.activity?.[1] && idx === 0;\n\n  const showRestMessage = (date, idx) =>\n    !!schedule[date]?.activity?.[0] && idx === 0;\n\n  return (\n    <div className=\"table m-4\">\n      <div className=\"headings columns is-mobile\">\n        <div className=\"column is-3 forecast-day\">Day</div>\n        <div className=\"column is-3 has-text-centered\">Off</div>\n        <div className=\"column is-3 has-text-centered\">HIIT</div>\n        <div className=\"column is-3 has-text-centered\">Other</div>\n      </div>\n      {dates.map((date, idx) => {\n        const iconColor = (key) => getColor(!!schedule[date]?.activity?.[key]);\n        const setActivityHandler = (activity) =>\n          setActivity({ date, activity });\n        const setEffortHandler = (e) =>\n          setEffort({ date, effort: e.target.value });\n        return (\n          <Fragment key={date}>\n            <div\n              className={`columns is-mobile ${\n                idx % 2 ? 'has-background-white-ter' : ''\n              }`}\n            >\n              <div className=\"column is-3 has-text-weight-bold forecast-day\">\n                {getDayText(idx)}\n              </div>\n              <div\n                className=\"clickable column is-3 is-flex is-justify-content-center is-align-items-center\"\n                onClick={() => setActivityHandler([1, 0, 0])}\n              >\n                <FontAwesomeIcon\n                  className={iconColor(0)}\n                  icon={faBed}\n                  size=\"lg\"\n                />\n              </div>\n              <div\n                className=\"clickable column is-3 is-flex is-justify-content-center is-align-items-center\"\n                onClick={() => setActivityHandler([0, 1, 0])}\n              >\n                <FontAwesomeIcon\n                  className={iconColor(1)}\n                  icon={faStopwatch}\n                  size=\"lg\"\n                />\n              </div>\n              <div\n                className=\"clickable column is-3 is-flex is-justify-content-center is-align-items-center is-relative\"\n                onClick={() => setActivityHandler([0, 0, 1])}\n              >\n                <FontAwesomeIcon\n                  className={`mx-1 ${iconColor(2)}`}\n                  icon={faSwimmer}\n                  size=\"sm\"\n                />\n                <FontAwesomeIcon\n                  className={`mx-1 ${iconColor(2)}`}\n                  icon={faBiking}\n                  size=\"sm\"\n                />\n                <FontAwesomeIcon\n                  className={`mx-1 ${iconColor(2)}`}\n                  icon={faRunning}\n                  size=\"sm\"\n                />\n              </div>\n            </div>\n            {showTodayMessage(date, idx) && (\n              <div\n                className={`columns is-mobile ${\n                  idx % 2 ? 'has-background-white-ter' : ''\n                }`}\n              >\n                <div className=\"column is-12 is-flex is-justify-content-center is-align-items-center\">\n                  {haveEnoughEntries ? (\n                    <button\n                      className=\"button is-large mb-3\"\n                      onClick={saveAndNext}\n                    >\n                      Today's Workout\n                    </button>\n                  ) : (\n                    <div className=\"py-5 has-text-info\">\n                      Plan the next {DAYS_OUT} days to get your workout\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n            {showRestMessage(date, idx) && (\n              <div className=\"columns\">\n                <div className=\"column is-12 has-text-centered\">\n                  <div className=\"py-5 has-text-info\">{randomMessage}</div>\n                </div>\n              </div>\n            )}\n            {!!schedule[date]?.activity?.[2] && (\n              <div\n                className={`columns is-mobile ${\n                  idx % 2 ? 'has-background-white-ter' : ''\n                }`}\n              >\n                <div className=\"column is-12 is-flex is-align-items-center\">\n                  <div className=\"mb-1 mx-4 has-text-centered\">\n                    Anticipated\n                    <br />\n                    Effort\n                  </div>\n                  <div className=\"is-flex-grow-1 mx-4\">\n                    <input\n                      defaultValue={schedule?.[date]?.effort}\n                      className=\"slider is-warning is-fullwidth is-large mt-2\"\n                      step=\".25\"\n                      min=\"0\"\n                      max=\"10\"\n                      type=\"range\"\n                      onChange={setEffortHandler}\n                    />\n                    <SliderScale scale={['light', 'moderate', 'hard']} />\n                  </div>\n                </div>\n              </div>\n            )}\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default withRouter(Home);\n","import { connect } from 'react-redux';\nimport Home from './Home';\nimport { setActivity, setEffort, updateHiitrx } from '../../redux/actions';\n\nconst mapStateToProps = ({ schedule }) => ({ schedule });\n\nconst mapDispatchToProps = { setActivity, setEffort, updateHiitrx };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import HomeContainer from './HomeContainer';\n\nexport default HomeContainer;\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCalendarAlt,\n  faSmile,\n  faDotCircle,\n  faCheckCircle,\n} from '@fortawesome/free-solid-svg-icons';\n\nconst progress = (path) => (step) => {\n  let className = 'step-item is-success';\n  const isToday = path === '/today';\n  const isLift = path === '/lift';\n  const isResults = path === '/results';\n\n  if (isToday && step === 0) {\n    className += ' is-active';\n  }\n  if (isLift) {\n    if (step === 0) className += ' is-completed';\n    if (step === 1) className += ' is-active';\n  }\n  if (isResults) {\n    if (step < 2) className += ' is-completed';\n    else className += ' is-active';\n  }\n\n  return className;\n};\n\nfunction Header({ isLoaded, name, location: { pathname } }) {\n  const showSteps =\n    isLoaded && ['/today', '/lift', '/results'].includes(pathname);\n  const showHomeLink = !['/login', '/home'].includes(pathname);\n  const showGreeting =\n    isLoaded && !['/login', '/lift', '/workout'].includes(pathname);\n  const stepperClass = progress(pathname);\n\n  return (\n    <>\n      <div className=\"px-4 is-flex has-background-link-light is-justify-content-space-between is-align-items-center\">\n        <div className=\"head-space has-text-info\">\n          <b>HIITRx</b>\n        </div>\n        {showSteps && (\n          <div className=\"is-flex-grow-1 my-1 px-6\">\n            <div className=\"steps is-small\">\n              <div className={stepperClass(0)}>\n                <div className=\"step-marker\">\n                  <FontAwesomeIcon icon={faSmile} />\n                </div>\n              </div>\n              <div className={stepperClass(1)}>\n                <div className=\"step-marker\">\n                  <FontAwesomeIcon icon={faDotCircle} />\n                </div>\n              </div>\n              <div className={stepperClass(2)}>\n                <div className=\"step-marker\">\n                  <FontAwesomeIcon icon={faCheckCircle} />\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"head-space\">\n          {showHomeLink && (\n            <Link to=\"/home\">\n              <FontAwesomeIcon\n                className=\"has-text-info\"\n                icon={faCalendarAlt}\n                size=\"lg\"\n              />\n            </Link>\n          )}\n        </div>\n      </div>\n      {showGreeting && (\n        <div className=\"px-4 py-4 is-flex is-justify-content-space-between is-align-items-center\">\n          <strong>Hello, {name}</strong>\n          <Link to=\"/login\">\n            <button className=\"button is-small\">not {name}?</button>\n          </Link>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default withRouter(Header);\n","import HeaderContainer from './HeaderContainer';\n\nexport default HeaderContainer;\n","import { connect } from 'react-redux';\nimport Header from './Header';\n\nconst mapStateToProps = ({ hash, name }) => ({ isLoaded: !!hash, name });\n\nexport default connect(mapStateToProps)(Header);\n","import TimePicker from './TimePicker';\n\nexport default TimePicker;\n","import React, { useState } from 'react';\nimport SliderScale from '../SliderScale';\n\nexport default function TimePicker({ h, m, onChange, disabled }) {\n  const [hours, setHours] = useState(h);\n  const [minutes, setMinutes] = useState(m);\n\n  const adjust = (which) => (amount) => (e) => {\n    e.preventDefault();\n\n    let newHours = hours;\n    let newMinutes = minutes;\n    if (which === 'h') {\n      if ((amount === 1 && hours < 23) || (amount === -1 && hours > 0)) {\n        newHours += amount;\n      }\n    } else {\n      if ((amount === 15 && minutes < 45) || (amount === -15 && minutes > 0)) {\n        newMinutes += amount;\n      }\n    }\n    setHours(newHours);\n    setMinutes(newMinutes);\n\n    if (newHours !== hours || newMinutes !== minutes) {\n      onChange({ target: { value: `${newHours + newMinutes / 60}` } });\n    }\n  };\n\n  return (\n    <>\n      <div className=\"time-picker mt-4 mb-4\">\n        <div>\n          <button\n            onClick={adjust('h')(-1)}\n            className=\"button mr-4\"\n            disabled={disabled}\n          >\n            -\n          </button>\n          <button\n            onClick={adjust('h')(1)}\n            className=\"button\"\n            disabled={disabled}\n          >\n            +\n          </button>\n        </div>\n        <div className=\"has-text-centered\">\n          Sleep duration\n          <br />\n          <pre className=\"p-0 has-background-white\">\n            {hours} hrs {minutes} min\n          </pre>\n        </div>\n        <div>\n          <button\n            onClick={adjust('m')(-15)}\n            className=\"button mr-4\"\n            disabled={disabled}\n          >\n            -\n          </button>\n          <button\n            onClick={adjust('m')(15)}\n            className=\"button\"\n            disabled={disabled}\n          >\n            +\n          </button>\n        </div>\n      </div>\n      <SliderScale scale={['subtract/add hours', 'subtract/add minutes']} />\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport noop from 'lodash/noop';\nimport TimePicker from '../TimePicker';\nimport SliderScale from '../SliderScale';\n\nfunction Today({\n  motivated,\n  fast,\n  sleep,\n  sleepHours,\n  setToday,\n  hasReported,\n  updateHiitrx,\n  history,\n}) {\n  const [answers, setAnswers] = useState({\n    motivated,\n    fast,\n    sleep,\n    sleepHours,\n  });\n\n  let [h, m] = `${sleepHours}`.split('.');\n  h = h || 8;\n  m = m || 0;\n\n  const setItem = (item) => (e) =>\n    setAnswers({\n      ...answers,\n      [item]: Number(e.target.value.trim()),\n    });\n\n  const saveAndNext = () => {\n    setToday(answers);\n    updateHiitrx()\n      .then(() => history.push('/lift'))\n      .catch(noop);\n  };\n\n  return (\n    <div className=\"px-4 py-4\">\n      <form onSubmit={(e) => e.preventDefault()}>\n        <>\n          <label htmlFor=\"motivated\">How motivated are you to train?</label>\n          <input\n            id=\"motivated\"\n            name=\"motivated\"\n            defaultValue={answers.motivated}\n            className=\"slider is-warning is-fullwidth is-large mt-2\"\n            step=\".25\"\n            min=\"0\"\n            max=\"10\"\n            type=\"range\"\n            onChange={setItem('motivated')}\n            disabled={hasReported}\n          />\n          <SliderScale />\n        </>\n        <>\n          <label htmlFor=\"fast\">How fresh do your legs feel?</label>\n          <input\n            id=\"fast\"\n            name=\"fast\"\n            defaultValue={answers.fast}\n            className=\"slider is-warning is-fullwidth is-large mt-2\"\n            step=\".25\"\n            min=\"0\"\n            max=\"10\"\n            type=\"range\"\n            onChange={setItem('fast')}\n            disabled={hasReported}\n          />\n          <SliderScale scale={['Slow', 'Normal', 'Fast']} />\n        </>\n        <>\n          <label htmlFor=\"sleep\">How well did you sleep last night?</label>\n          <input\n            id=\"sleep\"\n            name=\"sleep\"\n            defaultValue={answers.sleep}\n            className=\"slider is-warning is-fullwidth is-large mt-2\"\n            step=\".25\"\n            min=\"0\"\n            max=\"10\"\n            type=\"range\"\n            onChange={setItem('sleep')}\n            disabled={hasReported}\n          />\n          <SliderScale scale={['Worse', 'Normal', 'Better']} />\n        </>\n        <TimePicker\n          h={Number(h)}\n          m={Number(`.${m}`) * 60}\n          onChange={setItem('sleepHours')}\n          disabled={hasReported}\n        />\n        <div className=\"has-text-centered\">\n          <button className=\"button is-black\" onClick={saveAndNext}>\n            Next\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default withRouter(Today);\n","import { connect } from 'react-redux';\nimport Today from './Today';\nimport { getFullDate } from '../../lib';\nimport { setToday, updateHiitrx } from '../../redux/actions';\n\nconst mapStateToProps = ({ schedule }) => {\n  const { motivated, fast, sleep, sleepHours } = schedule[getFullDate()];\n\n  return {\n    motivated: motivated || 5,\n    fast: fast || 5,\n    sleep: sleep || 5,\n    sleepHours: sleepHours || 8,\n  };\n};\n\nconst mapDispatchToProps = { setToday, updateHiitrx };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Today);\n","import TodayContainer from './TodayContainer';\n\nexport default TodayContainer;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Pressure from 'pressure';\nimport Progress from '../Progress';\n\nconst DEFAULTS = {\n  ctext: 'Press',\n};\nconst DELAY = 1500;\nconst SAMPLE_SIZE = 5;\n\nconst getLiftIntervals = (clicks) =>\n  clicks.reduce(\n    (acc, cur, idx, arr) =>\n      idx % 2 ? acc : [...acc, arr[idx + 1].timeStamp - cur.timeStamp],\n    []\n  );\n\nfunction Lift({ lifts, setLifts, setPressures, updateHiitrx, history }) {\n  const [ctext, setCtext] = useState(DEFAULTS.ctext);\n  const [clicks, setClicks] = useState([]);\n  const [active, setActive] = useState(false);\n  const [pressed, setPressed] = useState(false);\n  const [triggered, setTriggered] = useState(false);\n  const [done, setDone] = useState(false);\n  const [working, setWorking] = useState(false);\n  const liftTimer = useRef(null);\n  const maxForce = useRef(0);\n  const textChange = useRef();\n\n  useEffect(() => {\n    Pressure.set(\n      '#circle',\n      {\n        start: () => {\n          maxForce.current = 0;\n        },\n        change: (force) => {\n          maxForce.current =\n            force > maxForce.current ? force : maxForce.current;\n        },\n        unsupported: function () {\n          maxForce.current = -1;\n        },\n      },\n      {\n        only: 'touch',\n        polyfill: false,\n      }\n    );\n  }, []);\n\n  useEffect(() => {\n    if (pressed) {\n      const rand = DELAY + Math.round(Math.random() * 250);\n      liftTimer.current = setTimeout(() => {\n        setTriggered(true);\n        setClicks((c) => [...c, { timeStamp: Date.now() }]);\n      }, rand);\n    }\n  }, [pressed]);\n\n  useEffect(() => {\n    if (clicks.length === SAMPLE_SIZE * 2) {\n      setDone(true);\n    }\n  }, [clicks]);\n\n  const saveAndNext = () => {\n    if (!lifts) {\n      const computedLifts = getLiftIntervals(clicks);\n      setWorking(true);\n      setLifts(computedLifts);\n      setPressures(clicks.map(({ pressure }) => pressure));\n      updateHiitrx()\n        .then(() => history.push('/results'))\n        .catch(() => {});\n      clearTimeout(textChange.current);\n    } else {\n      history.push('/results');\n    }\n  };\n\n  const reset = () => {\n    setCtext(DEFAULTS.ctext);\n    setClicks([]);\n    setActive(false);\n    setPressed(false);\n    setTriggered(false);\n    setDone(false);\n  };\n\n  const pointerDown = (e) => {\n    if (ctext !== DEFAULTS.ctext) {\n      return;\n    }\n    setActive(true);\n    setPressed(true);\n  };\n\n  const pointerUp = (e) => {\n    setPressed(false);\n    if (!active || ctext !== DEFAULTS.ctext) {\n      return;\n    }\n    if (!triggered) {\n      setCtext('!');\n      clearTimeout(liftTimer.current);\n    } else {\n      setCtext('Good');\n      setClicks([\n        ...clicks,\n        {\n          timeStamp: Date.now(),\n          pressure: maxForce.current,\n        },\n      ]);\n    }\n    setActive(false);\n    setTriggered(false);\n    textChange.current = setTimeout(() => setCtext(DEFAULTS.ctext), DELAY);\n  };\n\n  if (working) {\n    return <Progress />;\n  }\n\n  if (lifts || done) {\n    const attempts = lifts || getLiftIntervals(clicks);\n    return (\n      <div className=\"table m-4\">\n        <div className=\"headings columns is-mobile\">\n          <div className=\"column is-6\">Attempt</div>\n          <div className=\"column is-6 has-text-centered\">Reaction Speed</div>\n        </div>\n        {attempts.map((speed, idx) => (\n          <div key={speed} className=\"columns is-mobile\">\n            <div className=\"column is-6 has-text-weight-bold\">{idx + 1}</div>\n            <div className=\"column is-6 has-text-centered\">{`${speed}ms`}</div>\n          </div>\n        ))}\n        <div className=\"column is-12 has-text-centered\">\n          <button\n            className=\"button is-info is-light mr-2\"\n            onClick={reset}\n            disabled={!!lifts}\n          >\n            Retry\n          </button>\n          <button className=\"button is-black\" onClick={saveAndNext}>\n            Next\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"px-4 py-4\">\n      <div className=\"mb-4\">\n        Press with your thumb. When the border turns red, lift your thumb.\n        Repeat five times.\n      </div>\n      <section\n        className={`section py-0 lift`}\n        style={{\n          position: 'absolute',\n          bottom: 30,\n          left: '50%',\n          transform: 'translate(-50%)',\n        }}\n      >\n        <div\n          id=\"circle\"\n          className={`circle ${pressed && 'pressed'} ${\n            triggered && 'triggered'\n          }`}\n          onPointerDown={pointerDown}\n          onPointerUp={pointerUp}\n        >\n          {ctext}\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default withRouter(Lift);\n","import { connect } from 'react-redux';\nimport Lift from './Lift';\nimport { getFullDate } from '../../lib';\nimport { setLifts, setPressures, updateHiitrx } from '../../redux/actions';\n\nconst mapStateToProps = ({ schedule }) => ({\n  lifts: schedule[getFullDate()]?.lifts,\n});\n\nconst mapDispatchToProps = { setLifts, setPressures, updateHiitrx };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Lift);\n","import LiftContainer from './LiftContainer';\n\nexport default LiftContainer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Results({ speed, readiness }) {\n  return (\n    <section className=\"section\">\n      <article className=\"message is-info\">\n        <div className=\"message-header\">\n          <p>HIIT readiness</p>\n        </div>\n        <div className=\"message-body\">{readiness}%</div>\n      </article>\n      <article className=\"message is-info\">\n        <div className=\"message-header\">\n          <p>Reaction score</p>\n        </div>\n        <div className=\"message-body\">{speed} ms</div>\n      </article>\n      <div className=\"has-text-centered\">\n        <Link to=\"/home\">\n          <button className=\"button mr-2\">Back</button>\n        </Link>\n        <Link to=\"/workout\">\n          <button className=\"button is-black\">Preview Workout</button>\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Results;\n","import { connect } from 'react-redux';\nimport Results from './Results';\nimport { getFullDate, table } from '../../lib';\n\nconst getAvgSpeed = (lifts) => {\n  const speeds = [...lifts.sort()];\n  if (speeds.length === 5) {\n    speeds.pop();\n    speeds.shift();\n  }\n  const avg =\n    speeds.reduce((acc, cur) => Number(acc) + Number(cur), 0) / speeds.length;\n\n  return Math.round(avg);\n};\n\nconst getReadines = (schedule) =>\n  ['motivated', 'fast', 'sleep', 'sleepHours'].reduce(\n    (acc, cur) => acc + table[cur][schedule[cur]],\n    0\n  );\n\nconst mapStateToProps = ({ schedule }) => {\n  const sched = schedule[getFullDate()];\n\n  return {\n    speed: getAvgSpeed(sched.lifts),\n    readiness: getReadines(sched),\n  };\n};\n\nexport default connect(mapStateToProps)(Results);\n","import ResultsContainer from './ResultsContainer';\n\nexport default ResultsContainer;\n","import React from 'react';\n\nexport default function Preview({ intervals, onNext }) {\n  return (\n    <div className=\"table m-4\">\n      <div className=\"headings columns is-mobile\">\n        <div className=\"column is-9\">Interval</div>\n        <div className=\"column is-3 has-text-centered\">Duration</div>\n      </div>\n      {intervals.map((int, idx) => (\n        <div\n          key={`${int.name}-${idx}`}\n          className={`columns is-mobile ${\n            idx % 2 ? 'has-background-white-ter' : ''\n          }`}\n        >\n          <div className=\"column is-1\">\n            <b>{idx + 1}</b>\n          </div>\n          <div className=\"column is-8\">{int.name}</div>\n          <div className=\"column is-3 has-text-centered\">{int.from}</div>\n        </div>\n      ))}\n      <button className=\"button is-black fixed-button\" onClick={onNext}>\n        Start Workout\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\n\nconst Controls = (props) => {\n  const { running, disabled, start, stop, reset } = props;\n  return (\n    <div>\n      {!running && (\n        <button\n          className=\"button is-large start is-success mr-4\"\n          disabled={disabled.start}\n          onClick={start}\n        >\n          Start\n        </button>\n      )}\n      {running && (\n        <button className=\"button is-large stop is-warning mr-4\" onClick={stop}>\n          Pause\n        </button>\n      )}\n      <button\n        className=\"button is-large reset is-black mr-4\"\n        disabled={disabled.reset}\n        onClick={reset}\n      >\n        Reset\n      </button>\n    </div>\n  );\n};\n\nexport default Controls;\n","import Controls from './Controls';\n\nexport default Controls;\n","import React, { useState, useEffect, useRef } from 'react';\n// import PropTypes from 'prop-types';\nimport { keyGen, computeMillis, getTime, storage } from '../../lib';\nimport Controls from '../Controls';\n\nconst INTERVAL = 100;\nconst round = (ms) => Math.round(ms / INTERVAL) * INTERVAL;\nconst nowish = () => round(Date.now());\n\nconst Timer = ({\n  autoStart,\n  controls,\n  direction,\n  from,\n  limit,\n  playBeep,\n  onComplete,\n  storageKey,\n}) => {\n  const isCountDown = direction === -1;\n  const { STORAGE_KEY, STARTED_KEY, RUNNING_KEY } = keyGen(storageKey);\n\n  const isRunning = !!storage.getItem(RUNNING_KEY);\n  const [running, setRunning] = useState(isRunning);\n\n  const sessionStarted = Number(storage.getItem(STARTED_KEY));\n  const [started, setStarted] = useState(sessionStarted);\n\n  const initialTime = computeMillis(from);\n  const sessionTime = storage.getItem(STORAGE_KEY);\n  let defaultTime;\n  if (sessionTime) {\n    defaultTime = started\n      ? initialTime + direction * (nowish() - started)\n      : Number(sessionTime);\n  } else {\n    defaultTime = initialTime;\n  }\n  const [time, setTime] = useState(defaultTime);\n\n  useEffect(() => {\n    if (running && time !== initialTime) {\n      switch (time) {\n        case 0:\n          const play = () => playBeep('high');\n          play();\n          setTimeout(play, 250);\n          setTimeout(play, 500);\n          break;\n        case 5000:\n        case 4000:\n        case 3000:\n        case 2000:\n        case 1000:\n          playBeep('low');\n          break;\n        default:\n          break;\n      }\n    }\n  }, [running, time, initialTime, playBeep]);\n\n  let timer = useRef();\n\n  const start = () => {\n    timer.current = setInterval(\n      () => setTime((t) => t + direction * INTERVAL),\n      INTERVAL\n    );\n    if (!started) {\n      let startedAt;\n      if (isCountDown) {\n        const elapsed = initialTime - (Number(sessionTime) || initialTime);\n        startedAt = nowish() - elapsed;\n      } else {\n        startedAt = nowish() - time;\n      }\n      setStarted(startedAt);\n      storage.setItem(STARTED_KEY, startedAt);\n    }\n    setRunning(true);\n    storage.setItem(RUNNING_KEY, true);\n  };\n\n  const stop = () => {\n    clearInterval(timer.current);\n    setRunning(false);\n    setStarted(0);\n    [RUNNING_KEY, STARTED_KEY].forEach(storage.removeItem);\n  };\n\n  const reset = () => {\n    setTime(initialTime);\n  };\n\n  useEffect(() => {\n    if (running || autoStart) {\n      start();\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (isCountDown && time <= 0) {\n      if (running && onComplete) {\n        onComplete();\n      }\n      stop();\n    } else {\n      if (!isCountDown && limit && time >= computeMillis(limit)) {\n        if (running && onComplete) {\n          onComplete();\n        }\n        stop();\n      }\n    }\n    storage.setItem(STORAGE_KEY, time);\n  }, [time]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const disabled = {\n    start: isCountDown ? time <= 0 : limit && time >= computeMillis(limit),\n    reset: running || time === initialTime,\n  };\n\n  return (\n    <>\n      <div className=\"time mb-4\">\n        <pre className=\"has-background-white is-size-1\">{getTime(time)}</pre>\n      </div>\n      {controls && (\n        <Controls\n          running={running}\n          disabled={disabled}\n          start={start}\n          stop={stop}\n          reset={reset}\n        />\n      )}\n    </>\n  );\n};\n\n// const timeFormat = /^\\d+:\\d\\d\\.?\\d?$/;\n// const propError = prop =>`The \"${prop}\" prop must be of the format 99#:##.9 (\"9\" digits optional)`;\n// Timer.propTypes = {\n//   autoStart: PropTypes.bool,\n//   controls: PropTypes.bool,\n//   direction: PropTypes.oneOf([-1, 1]).isRequired,\n//   from: PropTypes.string.isRequired,\n//   fromValue: function(props) {\n//     if (!props.from.match(timeFormat)) {\n//       return Error(propError('from'))\n//     }\n//   },\n//   limit: PropTypes.string,\n//   limitValue: function(props) {\n//     if (props.limit && !props.limit.match(timeFormat)) {\n//       return Error(propError('limit'))\n//     }\n//   },\n//   onComplete: PropTypes.func,\n//   storageKey: PropTypes.string.isRequired,\n// }\n//\n// Timer.defaultProps = {\n//   autoStart: false,\n//   controls: true,\n//   onComplete: undefined,\n// }\n\nexport default Timer;\n","import Timer from './Timer';\n\nexport default Timer;\n","export default function keyGen(key) {\n  return {\n    STORAGE_KEY: key,\n    RUNNING_KEY: `${key}.running`,\n    STARTED_KEY: `${key}.started`,\n  };\n}\n","export default function getTime(ms) {\n  const minutes = Math.trunc(ms / 1000 / 60);\n  const seconds = (ms / 1000 - minutes * 60)\n    .toFixed(1)\n    .replace(/^(\\d\\.\\d)/, '0$1');\n\n  return `${minutes}:${seconds}`;\n}\n","import Workout from './Workout';\n\nexport default Workout;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport noop from 'lodash/noop';\nimport { storage, getFullDate } from '../../lib';\nimport Preview from './Preview';\nimport Timer from '../Timer';\n\nexport default function Workout() {\n  const [preview, setPreview] = useState(false);\n  const [workout, setWorkout] = useState({\n    date: null,\n    intervals: [],\n  });\n  const [count, setCount] = useState(0);\n\n  // const beepLow = useRef(null);\n  // const beepHigh = useRef(null);\n\n  // useEffect(() => {\n  //   async function getAudio() {\n  //     beepLow.current = await new Audio(\n  //       `${process.env.PUBLIC_URL}/beep-low.wav`\n  //     );\n  //     beepHigh.current = await new Audio(\n  //       `${process.env.PUBLIC_URL}/beep-high.wav`\n  //     );\n  //     beepLow.current.load();\n  //     beepHigh.current.load();\n  //   }\n  //   getAudio();\n  // }, []);\n\n  const playBeep = (which) => {\n    window.audioContext.resume();\n    window.beep(100, 100, 200);\n    // const beep =\n    //   which === 'high'\n    //     ? window.document.getElementById('beepHigh')\n    //     : window.document.getElementById('beepLow');\n    // return new Promise((resolve, reject) =>\n    //   beep.play().then(resolve).catch(reject)\n    // );\n  };\n\n  useEffect(() => {\n    storage.setItem(\n      'workout',\n      JSON.stringify({\n        date: getFullDate(),\n        intervals: [\n          {\n            name: 'Test beeps 1',\n            detail: 'whole number',\n            from: '00:10',\n          },\n          {\n            name: 'Test beeps 2',\n            detail: 'fraction of sec',\n            from: '00:7.5',\n          },\n          {\n            name: 'Warm-up',\n            from: '02:00',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Sprint',\n            detail: '90% HRmax',\n            from: '00:30',\n          },\n          {\n            name: 'Rest',\n            from: '00:30',\n          },\n          {\n            name: 'Cool-down',\n            from: '05:00',\n          },\n        ],\n      })\n    );\n\n    const storedWorkout = JSON.parse(storage.getItem('workout'));\n    storedWorkout.intervals.forEach((_, idx) =>\n      storage.removeItem(`interval-${idx}`)\n    );\n    setWorkout(storedWorkout);\n  }, []);\n\n  // useEffect(() => {\n  //   // The wake lock sentinel.\n  //   let wakeLock = null;\n  //   // Function that attempts to request a screen wake lock.\n  //   const requestWakeLock = async () => {\n  //     try {\n  //       wakeLock = await navigator.wakeLock.request('screen');\n  //       wakeLock.addEventListener('release', () => {\n  //         console.log('Screen Wake Lock released:', wakeLock.released);\n  //       });\n  //     } catch (err) {\n  //       console.error(`${err.name}, ${err.message}`);\n  //     }\n  //   };\n  //   // Request a screen wake lock\n  //   requestWakeLock();\n  //\n  //   return () => wakeLock.release();\n  // }, []);\n\n  const int = workout.intervals[count];\n  const timerId = `interval-${count}`;\n  const onComplete = () => {\n    const currentTimer = timerId;\n    setTimeout(() => storage.removeItem(currentTimer), 0);\n    setCount(count + 1);\n  };\n\n  if (preview) {\n    return (\n      <Preview\n        intervals={workout.intervals}\n        onNext={() => {\n          setPreview(false);\n        }}\n      />\n    );\n  }\n\n  return (\n    <>\n      {int?.name ? (\n        <div className=\"m-4 has-text-centered\">\n          <div className=\"mb-2 is-size-2 has-text-info\">{int.name}</div>\n          <div className=\"mb-2 is-size-4 has-text-info\">\n            {int.detail || <>&nbsp;</>}\n          </div>\n          <div className=\"mb-5\" onClick={() => playBeep('high')}>\n            {workout.intervals.map((interval, idx) =>\n              idx === count ? (\n                <Timer\n                  key={timerId}\n                  storageKey={timerId}\n                  controls\n                  direction={-1}\n                  from={interval.from}\n                  playBeep={playBeep}\n                  onComplete={onComplete}\n                  autoStart={idx > 0}\n                />\n              ) : null\n            )}\n          </div>\n        </div>\n      ) : (\n        <div className=\"m-4 is-size-1 has-text-success has-text-centered\">\n          <div className=\"mb-6\">Workout Completed!</div>\n          <Link to=\"/home\">\n            <button className=\"button is-large is-black\">Done</button>\n          </Link>\n        </div>\n      )}\n      {workout.intervals[count + 1] && (\n        <>\n          <hr className=\"my-4\" />\n          <div className=\"m-4 has-text-centered\">\n            <div className=\"is-size-5 mb-2\">Up next</div>\n            <div className=\"is-size-4 has-text-info\">\n              {workout.intervals[count + 1].name}\n            </div>\n            <pre className=\"has-background-white is-size-4\">\n              {workout.intervals[count + 1].from}\n            </pre>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { storage } from '../../lib';\nimport Progress from '../Progress';\nimport Login from '../Login';\nimport Data from '../Data';\nimport Home from '../Home';\nimport Header from '../Header';\nimport Today from '../Today';\nimport Lift from '../Lift';\nimport Results from '../Results';\nimport Workout from '../Workout';\n\nfunction hasReported(schedule) {\n  const { motivated, fast, sleep, sleepHours } = schedule;\n  return !!(motivated && fast && sleep && sleepHours);\n}\n\nfunction hasLifted(schedule) {\n  return !!schedule.lifts;\n}\n\nexport default function App({ isLoaded, authenticate, todaysSchedule }) {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [initialized, setInitialized] = useState(false);\n  const [working, setWorking] = useState(false);\n  const first = useRef(true);\n  const [status, setStatus] = useState({\n    isHiitDay: false,\n    hasReported: false,\n    hasLifted: false,\n  });\n\n  useEffect(() => {\n    const hash = storage.getItem('hash');\n    if (hash && first.current) {\n      console.debug('HIITRx: running login effect');\n      setWorking(true);\n      authenticate(hash)\n        .then(() => setAuthenticated(true))\n        .catch(() => {})\n        .finally(() => {\n          setInitialized(true);\n          setWorking(false);\n        });\n    } else {\n      setInitialized(true);\n    }\n    first.current = false;\n  }, [isLoaded, authenticate, setStatus]);\n\n  useEffect(() => {\n    const newStatus = {\n      isHiitDay: !!todaysSchedule.activity?.[1],\n      hasReported: hasReported(todaysSchedule),\n      hasLifted: hasLifted(todaysSchedule),\n    };\n    setStatus(newStatus);\n  }, [todaysSchedule]);\n\n  if (working) {\n    return (\n      <Router>\n        <Header />\n        <Progress />\n      </Router>\n    );\n  }\n\n  return !initialized ? null : (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/data/:table(lift)\" render={(rp) => <Data rp={rp} />} />\n        <Route path=\"/login\">\n          <Login authenticateApp={setAuthenticated} />\n        </Route>\n        {!authenticated && <Redirect to=\"/login\" />}\n        <Route path=\"/home\">\n          <Home />\n        </Route>\n        <Route path=\"/today\">\n          <Today hasReported={status.hasReported} />\n        </Route>\n        {!status.hasReported && <Redirect to=\"/home\" />}\n        <Route path=\"/lift\">\n          <Lift />\n        </Route>\n        {!status.hasLifted && <Redirect to=\"/home\" />}\n        <Route path=\"/results\">\n          <Results />\n        </Route>\n        <Route path=\"/workout\">\n          <Workout />\n        </Route>\n        <Redirect to=\"/home\" />\n      </Switch>\n    </Router>\n  );\n}\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { authenticate } from '../../redux/actions';\nimport { getFullDate } from '../../lib';\n\nconst mapStateToProps = (state) => {\n  const today = getFullDate();\n  const appState = {\n    isLoaded: !!state.hash,\n    todaysSchedule: state.schedule?.[today] || {},\n  };\n  return appState;\n};\n\nconst mapDispatchToProps = { authenticate };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import AppContainer from './AppContainer';\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './Components/App';\n\nwindow.addEventListener('contextmenu', function (e) {\n  e.preventDefault();\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}