(this["webpackJsonptri-tap"]=this["webpackJsonptri-tap"]||[]).push([[0],{27:function(e,t){},465:function(e,t,a){},466:function(e,t,a){},471:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(56),l=a.n(c),i=(a(65),a(5)),u=a(9),o=a(4);function m(e){return window.sessionStorage.getItem(e)||""}var s={items:[{label:"date",field:"date",type:"hidden"},{label:"Name",field:"name"},{label:"Age",field:"age",type:"number"}],getItem:m,setItem:function(e,t){window.sessionStorage.setItem(e,t)},isValid:function(){return m("date")===(new Date).toLocaleDateString()&&m("name")}},d=a(16),f=a(57),v=a.n(f),E=(a(66),a(59)),b=a(473);var p=a(17),h=a.n(p);h.a.config.region="us-east-2",h.a.config.credentials=new h.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-2:1056edee-e9e2-4c61-8f7e-45d31a5ab8a4"});var g=new h.a.DynamoDB.DocumentClient;var w="Press";function S(e){for(var t,a=e.clicks,n=e.reset,c=[{item:"Date",value:new Date(a[0].timeStamp).toLocaleDateString()},{item:"Time",value:new Date(a[0].timeStamp).toLocaleTimeString()}],l=[],i=0;i<5;i+=1){var u=2*i,o=(t=a[u].timeStamp,a[u+1].timeStamp-t),m=Math.round(1e3*a[u+1].pressure)/10;c.push({item:"Delay ".concat(i+1),value:"".concat(o,"ms [").concat(m,"%]")}),l.push(o)}return c.push({item:"Average",value:"".concat(Math.round(l.reduce((function(e,t){return e+t}),0)/l.length),"ms")}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Event"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{key:e.item},r.a.createElement("td",null,e.item),r.a.createElement("td",null,e.value))})))),r.a.createElement("div",{className:"reset",onClick:n},"Restart")))}var y=function(){var e=Object(n.useState)(w),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),o=u[0],m=u[1],s=Object(n.useState)(!1),f=Object(i.a)(s,2),p=f[0],h=f[1],y=Object(n.useState)(!1),j=Object(i.a)(y,2),O=j[0],D=j[1],T=Object(n.useState)(!1),N=Object(i.a)(T,2),k=N[0],I=N[1],L=Object(n.useState)(!1),M=Object(i.a)(L,2),P=M[0],C=M[1],R=Object(n.useRef)(null),F=Object(n.useRef)(0);Object(n.useEffect)((function(){v.a.set("#circle",{start:function(){F.current=0},change:function(e){F.current=e>F.current?e:F.current},unsupported:function(){F.current=-1}},{only:"touch",polyfill:!1})}),[]);var W=function(){for(var e=[],t=Date.now(),a=function(a){e.push(new Promise((function(e,n){var r,c,l=function(e){var t=e.id,a=void 0===t?Object(b.a)():t,n=e.timestamp,r=void 0===n?Date.now():n,c=e.user,l=void 0===c?window.sessionStorage.getItem("user")||"unspecified":c,i=e.winNavUa,u=void 0===i?window.navigator.userAgent:i;return Object(E.a)({id:a,timestamp:r,user:l,winNavUa:u},e)}({timeStamp:t,trigger:o[a].timeStamp,lift:o[a+1].timeStamp,pressure:o[a+1].pressure});(r=l,c="lift",new Promise((function(e,t){g.put({Item:r,TableName:c},(function(a,n){a?t("Error: data was not saved to ".concat(c)):e()}))}))).then(e).catch(n)})))},n=0;n<o.length;n+=2)a(n);return Promise.all(e)};return Object(n.useEffect)((function(){var e=1500+Math.round(250*Math.random());k&&(R.current=setTimeout((function(){C(!0),m((function(e){return[].concat(Object(d.a)(e),[{timeStamp:Date.now()}])}))}),e))}),[k]),Object(n.useEffect)((function(){10===o.length&&D(!0)}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},"Press with your thumb. When the screen turns red, lift your thumb. Repeat five times."),r.a.createElement("div",{className:"lift ".concat(k&&"pressed"," ").concat(P&&"triggered")},r.a.createElement("div",{id:"circle",className:"circle",onPointerDown:function(e){a===w&&(h(!0),I(!0))},onPointerUp:function(e){I(!1),p&&a===w&&(P?(c("Good"),m([].concat(Object(d.a)(o),[{timeStamp:Date.now(),pressure:F.current}]))):(c("!"),clearTimeout(R.current)),h(!1),C(!1),setTimeout((function(){return c(w)}),1500))}},a)),O&&r.a.createElement(S,{clicks:o,reset:function(){W().finally((function(){D(!1),m([]),function(e,t){c(e),h(t)}(w,!1)}))}}))};a(465);function j(e){var t=e.clicks,a=e.reset,n=[{item:"Date",value:new Date(t[0]).toLocaleDateString()},{item:"Time",value:new Date(t[0]).toLocaleTimeString()}],c=[];return["2-Tap Int 1","3-Tap Int 1","3-Tap Int 2","4-Tap Int 1","4-Tap Int 2","4-Tap Int 3"].forEach((function(e,a){var r,l=0===a?[1,2]:a<3?[a+2,a+3]:[a+3,a+4],i=(r=t[l[0]],t[l[1]]-r);n.push({item:e,value:"".concat(i,"ms")}),c.push(i)})),n.push({item:"Average",value:"".concat(Math.round(c.reduce((function(e,t){return e+t}),0)/c.length),"ms")}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Event"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.item},r.a.createElement("td",null,e.item),r.a.createElement("td",null,e.value))})))),r.a.createElement("div",{className:"reset",onClick:a},"Restart")))}var O=function(){var e=Object(n.useState)("Start"),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),o=u[0],m=u[1],s=Object(n.useState)(!1),f=Object(i.a)(s,2),v=f[0],E=f[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),h=p[0],g=p[1],w=function(e,t){c(e),E(t)};return Object(n.useEffect)((function(){switch(o.length){case 1:setTimeout((function(){w("2",!0)}),500);break;case 3:w("Good",!1),setTimeout((function(){w("3",!0)}),1500);break;case 6:w("Good",!1),setTimeout((function(){w("4",!0)}),1500);break;case 10:w("Done",!1),setTimeout((function(){g(!0)}),1500)}}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},"Tap Start.  When a number appears, tap the circle that many times as quickly as you can.  Use only your thumb."),r.a.createElement("div",{className:"tap"},r.a.createElement("div",{className:"circle ".concat(v&&"active"),onClick:function(e){if(0===o.length)c("");else if(!v)return;m([].concat(Object(d.a)(o),[Date.now()]))}},a)),h&&r.a.createElement(j,{clicks:o,reset:function(){m([]),w("Start",!1),g(!1)}}))},D=(a(466),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),T=function(e){return"date"===e?(new Date).toLocaleDateString():s.getItem(e)||""};function N(e){var t=e.onSubmit,a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],u=c[1];return l?r.a.createElement(o.a,{to:"/lift"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},"My ",D[(new Date).getDay()]," Status"),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){var a=t(e);u(a)}},s.items.map((function(e){var t=e.label,a=e.field,n=e.type;return r.a.createElement("div",{key:a},"hidden"!==n&&r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",{name:a,defaultValue:T(a),type:n||"text"}))})),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Continue"})))))}function k(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){c((function(e){return s.isValid()}))}),[]);var l=function(e){if(e.preventDefault(),s.items.forEach((function(t){var a=t.field,n=(e.target[a].value||"").trim();console.log(a,n),n&&s.setItem(a,n)})),s.isValid())return c(!0),setTimeout((function(){return window.scrollTo(0,0)}),500),!0};return r.a.createElement(u.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"links"},a&&r.a.createElement(u.b,{to:"/tap"},"Tap"),a&&r.a.createElement(u.b,{to:"/lift"},"Lift"),r.a.createElement(u.b,{to:"/user"},r.a.createElement("div",{className:"user"},[(new Date).toLocaleDateString(),s.getItem("name")].map((function(e){return e?r.a.createElement(r.a.Fragment,null,e,r.a.createElement("br",null)):null}))))),a?r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/lift"},r.a.createElement(y,null)),r.a.createElement(o.b,{path:"/tap"},r.a.createElement(O,null)),r.a.createElement(o.b,{render:function(){return r.a.createElement(N,{onSubmit:l})}})):r.a.createElement(o.b,{render:function(){return r.a.createElement(N,{onSubmit:l})}})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.addEventListener("contextmenu",(function(e){e.preventDefault()})),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports=a(471)},65:function(e,t,a){},66:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.d7009595.chunk.js.map